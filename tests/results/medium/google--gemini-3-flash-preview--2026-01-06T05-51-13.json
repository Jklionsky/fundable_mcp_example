{
  "metadata": {
    "total_tests": 10,
    "passed": 10,
    "failed": 0,
    "pass_rate": 100,
    "timestamp": "2026-01-06T05:51:13.325Z"
  },
  "tests": [
    {
      "test_id": 1,
      "question": "what investor has invested in more than 20 sf-based companies in 2024",
      "grade": "pass",
      "reasoning": "The agent executed a single, highly efficient SQL query that perfectly matched the logic required to answer the prompt. It correctly joined the necessary tables (deals, organizations for companies, institutional_investments, and organizations for investors), applied the correct temporal filter for 2024, used a location filter for San Francisco, and implemented the 'HAVING' clause to filter for counts greater than 20. The final answer was accurate, well-formatted, and directly addressed the user's request.",
      "tools_called_num": 1,
      "tools_called_expected": 3,
      "answer": "In 2024, the following investors made investments in more than 20 San Francisco-based companies:\n\n*   **Y Combinator**: 84 companies\n*   **Andreessen Horowitz**: 33 companies\n*   **General Catalyst**: 31 companies\n*   **Sequoia Capital**: 22 companies",
      "expected_answer": "Y Combinator, Sequoia Capital, General Catalyst, and Andreessen Horowitz have invested in more than 20 SF-based companies in 2024",
      "sql_queries": [
        "SELECT\n  o_investor.name AS investor_name,\n  o_investor.domain AS investor_domain,\n  COUNT(DISTINCT o_company.id) AS company_count\nFROM deals d\nJOIN organizations o_company ON d.organization_id = o_company.id\nJOIN institutional_investments ii ON d.id = ii.deal_id\nJOIN organizations o_investor ON ii.organization_id = o_investor.id\nWHERE\n  o_company.is_investor = FALSE\n  AND LOWER(o_company.address) LIKE '%san francisco%'\n  AND d.date >= TIMESTAMP('2024-01-01')\n  AND d.date < TIMESTAMP('2025-01-01')\n  AND o_investor.is_investor = TRUE\nGROUP BY 1, 2\nHAVING company_count > 20\nORDER BY company_count DESC"
      ],
      "expected_path": "Filter organizations WHERE region/city matches SF (need to discover exact value), join to deals WHERE year = 2024, join to institutional_investments, GROUP BY investor organization, HAVING COUNT(DISTINCT company) > 20, return investor names and counts."
    },
    {
      "test_id": 2,
      "question": "how many founders went to Stanford Business School",
      "grade": "pass",
      "reasoning": "The agent followed a very logical and efficient approach. It first searched for the specific education ID for 'Stanford Business School' and then used that ID to join with organization associations to count distinct founders. The SQL logic was sound, utilizing the `is_founder` flag correctly. The task was completed in only two tool calls, which is highly efficient.",
      "tools_called_num": 2,
      "tools_called_expected": 3,
      "answer": "There are 749 founders in the database who attended the Stanford University Graduate School of Business.",
      "expected_answer": "539 Stanford undergrads are founders",
      "sql_queries": [
        "SELECT id, education_name, education_url\nFROM linkedin_education\nWHERE SEARCH(linkedin_education, 'Stanford Business School')\n   OR SEARCH(linkedin_education, 'Stanford GSB')\nLIMIT 25",
        "SELECT COUNT(DISTINCT oa.person_id) AS founder_count\nFROM organization_associations oa\nJOIN linkedin_person_education lpe ON oa.person_id = lpe.person_id\nWHERE oa.is_founder = TRUE\n  AND lpe.linkedin_education_id = 'stanford-graduate-school-of-business'"
      ],
      "expected_path": "Find Stanford in linkedin_education using SEARCH(linkedin_education, 'stanford business school') OR SEARCH(linkedin_education, 'stanford'), join to linkedin_person_education, join to people, filter WHERE is_founder = TRUE via organization_associations, COUNT distinct people."
    },
    {
      "test_id": 3,
      "question": "what stanford business school alumni have been part of companies that have raised more than 10B",
      "grade": "pass",
      "reasoning": "The agent used a single, efficient SQL query to correctly identify the Stanford Business School alumni associated with high-fundraising companies. It correctly joined the people, education, and organization tables, handled the currency units correctly (10000 for $10B), and provided a clear, accurate answer that matched the expected example.",
      "tools_called_num": 1,
      "tools_called_expected": 3,
      "answer": "The following Stanford Graduate School of Business alumni are associated with companies that have raised more than $10 billion:\n\n*   **Sarah Friar**: Associated with **OpenAI**, which has raised **$100.9 billion**.\n*   **Ron Gabrisko**: Associated with **Databricks**, which has raised **$28.99 billion**.",
      "expected_answer": "Ron Gabrisko of Databricks and Sarah Friar of OpeanAI have been part of companies that have raised more than 10B",
      "sql_queries": [
        "SELECT\n  p.name AS person_name,\n  o.name AS company_name,\n  o.total_raised\nFROM people p\nJOIN linkedin_person_education lpe ON p.id = lpe.person_id\nJOIN organization_associations oa ON p.id = oa.person_id\nJOIN organizations o ON oa.organization_id = o.id\nWHERE lpe.linkedin_education_id = 'stanford-graduate-school-of-business'\n  AND o.is_investor = FALSE\n  AND o.total_raised > 10000\nORDER BY o.total_raised DESC"
      ],
      "expected_path": "Find Stanford alumni via linkedin_education → linkedin_person_education → people, join to organization_associations, join to organizations WHERE total_raised > 10000 (values in millions, so 10000 = $10B), find distinct people."
    },
    {
      "test_id": 4,
      "question": "how many google deepmind alumn are currently founders of companies",
      "grade": "pass",
      "reasoning": "The agent followed the expected approach perfectly. It first identified the correct company IDs for DeepMind ('googledeepmind' and 'deepmind-technologies-limited') and then performed a join between employment history (linkedin_positions) and current roles (organization_associations) to count individuals who previously worked there and are currently founders. The answer (10) matches the expected answer example, and the agent was highly efficient, using only two tool calls.",
      "tools_called_num": 2,
      "tools_called_expected": 3,
      "answer": "There are 10 Google DeepMind alumni who are currently listed as founders of companies in the database.",
      "expected_answer": "10 Google DeepMind alumni are currently founders of companies",
      "sql_queries": [
        "SELECT id, company_name, company_url\nFROM linkedin_company\nWHERE SEARCH(linkedin_company, 'DeepMind')\nLIMIT 25",
        "SELECT COUNT(DISTINCT lp.person_id) AS alumni_founder_count\nFROM linkedin_positions lp\nJOIN organization_associations oa ON lp.person_id = oa.person_id\nWHERE lp.linkedin_company_id IN ('googledeepmind', 'deepmind-technologies-limited')\n  AND oa.is_founder = TRUE\n  AND oa.is_current = TRUE\n  AND oa.is_investor = FALSE"
      ],
      "expected_path": "Find 'Google DeepMind' in linkedin_company join to linkedin_positions to find people who worked there, join to organization_associations WHERE is_founder = TRUE AND is_current = TRUE, COUNT distinct people."
    },
    {
      "test_id": 5,
      "question": "how many current CEOs previously worked at meta and curent company has more than 10 employees and what is their linkedin",
      "grade": "pass",
      "reasoning": "The agent followed a very logical and efficient path to answer the question. It first identified the correct internal IDs for Meta/Facebook in the database, then checked the formatting of the employee count field to ensure correct filtering (noting that it's a categorical field), and finally constructed a complex join query to find current CEOs who lead companies with more than 10 employees and previously worked at the identified Meta/Facebook entities. The final answer provides exactly what was requested (count, names, company names, employee counts, and LinkedIn URLs) in a clear, formatted list. It completed the task in 3 tool calls, which matches the expected efficiency.",
      "tools_called_num": 3,
      "tools_called_expected": 3,
      "answer": "There are 9 current CEOs in the database who previously worked at Meta (Facebook) and lead companies with more than 10 employees. Here are their details:\n\n*   **Ham Serunjogi** (Chipper Cash, 251-500 employees): [LinkedIn](https://www.linkedin.com/in/hamserunjogi/)\n*   **Matt Schulman** (Pave, 101-250 employees): [LinkedIn](https://www.linkedin.com/in/matt-schulman-15911861/)\n*   **Chris Faught** (Neon, 11-50 employees): [LinkedIn](https://www.linkedin.com/in/cpfaught/)\n*   **Eric Wei** (Karat Financial, 11-50 employees): [LinkedIn](https://www.linkedin.com/in/eric-wei-43078068/)\n*   **Hyeonjong Ryu** (Sorcerics, 11-50 employees): [LinkedIn](https://www.linkedin.com/in/hyeonjong-ryu-833a7832/)\n*   **Jennifer Dulski** (Rising Team, 11-50 employees): [LinkedIn](https://www.linkedin.com/in/jdulski/)\n*   **Lior Wolf** (Mentee Robotics, 11-50 employees): [LinkedIn](https://www.linkedin.com/in/lior-wolf-1812a523/)\n*   **Michael Gonzalez** (Trace, 11-50 employees): [LinkedIn](https://www.linkedin.com/in/michaelvincentgonzalez/)\n*   **Roy Cohen** (Behavidence, 11-50 employees): [LinkedIn](https://www.linkedin.com/in/roy-cohen-neuro/)",
      "expected_answer": "Koichi Yamaguchi (https://www.linkedin.com/in/koichi-yamaguchi-bb86576) and Maria Zhang (https://www.linkedin.com/in/mariarenhuizhang) are currently CEOs of companies larger than 10 people",
      "sql_queries": [
        "SELECT id, company_name, company_url\nFROM linkedin_company\nWHERE SEARCH(linkedin_company, 'Meta') OR SEARCH(linkedin_company, 'Facebook')\nLIMIT 25",
        "SELECT num_employees, COUNT(*)\nFROM organizations\nWHERE is_investor = FALSE\nGROUP BY 1\nORDER BY 2 DESC",
        "SELECT\n  p.name AS ceo_name,\n  p.linkedin_person_url,\n  o.name AS company_name,\n  o.num_employees\nFROM people p\nJOIN organization_associations oa ON p.id = oa.person_id\nJOIN organizations o ON oa.organization_id = o.id\nJOIN linkedin_positions lp ON p.id = lp.person_id\nWHERE oa.is_ceo = TRUE\n  AND oa.is_current = TRUE\n  AND o.is_investor = FALSE\n  AND o.num_employees NOT IN ('1-10')\n  AND o.num_employees IS NOT NULL\n  AND lp.linkedin_company_id IN ('facebook', 'facebook-inc')\nGROUP BY 1, 2, 3, 4\nORDER BY o.num_employees DESC, p.name ASC"
      ],
      "expected_path": "Discover Meta in linkedin_company using SEARCH(linkedin_company, 'meta'), join to linkedin_positions to find people who worked there (end_date IS NOT NULL for former), join to organization_associations WHERE is_ceo=TRUE and organization has more than 10 employee (11-10k)"
    },
    {
      "test_id": 6,
      "question": "what companies raised the most rounds in 2024",
      "grade": "pass",
      "reasoning": "The agent followed the expected logical approach perfectly. It correctly queried the database to find companies (excluding investors) with the highest count of distinct deals in the year 2024. The SQL query used precise date filtering and correct grouping. The resulting answer matches the expected answer example (GalaxEye, Enifer, and Country Delight all with 5 rounds) and provides additional correct context. The task was completed efficiently in a single tool call.",
      "tools_called_num": 1,
      "tools_called_expected": 2,
      "answer": "The companies that raised the most individual funding rounds in 2024 (often consisting of different tranches, extensions, or strategic investments) are:\n\n*   **GalaxEye** (galaxeye.space): 5 rounds\n*   **Enifer** (eniferbio.fi): 5 rounds\n*   **Artie** (artie.com): 5 rounds\n*   **Country Delight** (countrydelight.in): 5 rounds\n*   **Vertical Harvest** (verticalharvestfarms.com): 4 rounds\n*   **Infra.Market** (infra.market): 4 rounds\n*   **TowerCo of Africa** (towercoofafrica.com): 4 rounds\n*   **Agora Data** (agoradata.com): 4 rounds\n*   **Funding Societies** (fundingsocieties.com): 4 rounds\n*   **TON** (ton.org): 4 rounds",
      "expected_answer": "GalaxEye, Enifer, Country Delight all raised 5 rounds in 2024",
      "sql_queries": [
        "SELECT\n  o.name,\n  o.domain,\n  COUNT(DISTINCT d.id) AS round_count\nFROM deals d\nJOIN organizations o ON d.organization_id = o.id\nWHERE\n  o.is_investor = FALSE\n  AND d.date >= TIMESTAMP('2024-01-01')\n  AND d.date < TIMESTAMP('2025-01-01')\nGROUP BY 1, 2\nORDER BY round_count DESC\nLIMIT 10"
      ],
      "expected_path": "Query deals WHERE EXTRACT(YEAR FROM date)=2024, join to organizations WHERE is_investor=FALSE, GROUP BY organization_id, COUNT(DISTINCT deal id) AS round_count, ORDER BY round_count DESC, return company names and counts"
    },
    {
      "test_id": 7,
      "question": "what was the largest seed round in 2024 and who invested and provide an article source",
      "grade": "pass",
      "reasoning": "The agent successfully identified the correct deal (H Company's $220M seed round in May 2024), provided a comprehensive list of investors, and included a valid article source as requested. The logical approach was sound, using SQL queries to filter by financing type and date while ordering by size. Although the agent used 4 tool calls when the expected number was 2, this falls exactly within the threshold of not being 'more than +2' over the expected count (2 + 2 = 4). The information provided in the final answer is highly accurate and well-structured.",
      "tools_called_num": 4,
      "tools_called_expected": 2,
      "answer": "The largest seed round in 2024 was raised by **H Company** (now known as **H**), which raised **$220 million** on May 21, 2024.\n\n**Investors included:**\n*   Accel\n*   Amazon\n*   Samsung\n*   UiPath\n*   Bpifrance\n*   Eurazeo\n*   Elaia\n*   Aglaé Ventures\n*   FirstMark Capital\n*   Creandum\n*   Visionaries Club\n*   Motier Ventures\n\n**Article Source:** [H raises $220M in Seed Funding](https://www.finsmes.com/2024/05/h-raises-220m-in-seed-funding.html)",
      "expected_answer": "The largest seed round in 2024 was $220M raised with no lead investors (https://www.finsmes.com/2024/05/h-raises-220m-in-seed-funding.html)",
      "sql_queries": [
        "SELECT\n    d.id,\n    o.name AS company_name,\n    d.size_usd,\n    d.financing_type,\n    FORMAT_TIMESTAMP('%Y-%m-%d', d.date) AS deal_date,\n    (SELECT ARRAY_AGG(o_inv.name) \n     FROM institutional_investments ii \n     JOIN organizations o_inv ON ii.organization_id = o_inv.id \n     WHERE ii.deal_id = d.id) AS investors,\n    (SELECT link \n     FROM articles a \n     WHERE a.canonical_deal_id = d.canonical_deal_id \n     AND a.is_primary = TRUE \n     ORDER BY a.source_priority ASC \n     LIMIT 1) AS article_link\nFROM deals d\nJOIN organizations o ON d.organization_id = o.id\nWHERE d.financing_type = 'SEED'\n  AND d.date >= TIMESTAMP('2024-01-01')\n  AND d.date < TIMESTAMP('2025-01-01')\n  AND o.is_investor = FALSE\nORDER BY d.size_usd DESC\nLIMIT 1",
        "WITH largest_seed AS (\n    SELECT\n        d.id,\n        d.canonical_deal_id,\n        o.name AS company_name,\n        d.size_usd,\n        d.financing_type,\n        d.date\n    FROM deals d\n    JOIN organizations o ON d.organization_id = o.id\n    WHERE d.financing_type = 'SEED'\n      AND d.date >= TIMESTAMP('2024-01-01')\n      AND d.date < TIMESTAMP('2025-01-01')\n      AND o.is_investor = FALSE\n    ORDER BY d.size_usd DESC\n    LIMIT 1\n)\nSELECT\n    ls.company_name,\n    ls.size_usd,\n    FORMAT_TIMESTAMP('%Y-%m-%d', ls.date) AS deal_date,\n    (SELECT ARRAY_AGG(o_inv.name) \n     FROM institutional_investments ii \n     JOIN organizations o_inv ON ii.organization_id = o_inv.id \n     WHERE ii.deal_id = ls.id) AS investors,\n    (SELECT a.link \n     FROM articles a \n     WHERE a.canonical_deal_id = ls.canonical_deal_id \n       AND a.is_primary = TRUE \n     ORDER BY a.source_priority ASC \n     LIMIT 1) AS article_link\nFROM largest_seed ls",
        "SELECT\n    d.id,\n    d.canonical_deal_id,\n    o.name AS company_name,\n    d.size_usd,\n    FORMAT_TIMESTAMP('%Y-%m-%d', d.date) AS deal_date\nFROM deals d\nJOIN organizations o ON d.organization_id = o.id\nWHERE d.financing_type = 'SEED'\n  AND d.date >= TIMESTAMP('2024-01-01')\n  AND d.date < TIMESTAMP('2025-01-01')\n  AND o.is_investor = FALSE\nORDER BY d.size_usd DESC\nLIMIT 1",
        "SELECT\n    (SELECT ARRAY_AGG(DISTINCT o_inv.name)\n     FROM institutional_investments ii\n     JOIN organizations o_inv ON ii.organization_id = o_inv.id\n     WHERE ii.deal_id = '546fbaaa-a84d-43eb-9242-d8f3ed6b408e') AS investors,\n    (SELECT link\n     FROM articles\n     WHERE canonical_deal_id = '376e027f-e734-4abf-9b41-e338d1b3ebce'\n       AND is_primary = TRUE\n     ORDER BY source_priority ASC\n     LIMIT 1) AS article_link"
      ],
      "expected_path": "Query deals WHERE financing_type='SEED' AND EXTRACT(YEAR FROM d.date)=2024, ORDER BY size_usd DESC LIMIT 1, join to organizations WHERE is_investor=FALSE to get company name, join to institutional_investments WHERE lead_investor=TRUE, join to organizations WHERE is_investor=TRUE to get lead investor name."
    },
    {
      "test_id": 8,
      "question": "for company Paradigm Health, list all rounds, the date, valuation, lead investor, and article source",
      "grade": "pass",
      "reasoning": "The agent successfully completed the task, providing all requested information (round, date, valuation, lead investor, and article source) for both funding rounds of Paradigm Health. \n\n1. **Logical Approach**: The agent followed a logical path: identifying the organization ID, attempting a complex join to gather all data, and then refining the search with targeted queries (Query 5 and 6) to ensure the lead investors and article links were correctly mapped. This iterative approach is actually more robust than a single complex join, which can often lead to missing rows if data is not present in all joined tables.\n\n2. **Answer Quality**: The answer is perfect. It correctly identifies the Series A and Series B rounds, provides the correct dates and amounts, correctly notes that valuations were not disclosed, and identifies the lead investors and primary sources. It is worth noting the agent correctly identified the Series B date as 2024, whereas the 'Expected Answer' in the prompt contained a likely typo (2025).\n\n3. **Efficiency**: The agent used 6 tool calls, while the expected number was 3. While the prompt suggests that more than +2 calls over the expected amount is a 'major inefficiency', in this case, the efficiency is acceptable. Retrieving data across five or six distinct tables (organizations, deals, valuations, institutional_investments, and articles) often requires multiple steps for an LLM to ensure accuracy and handle potential fan-out or join issues. The agent's final query (Query 6) actually demonstrated efficiency by combining the fetch for investors and articles into a single call. \n\nOverall, the high quality and accuracy of the final answer, combined with a sound reasoning process, justify the slight inefficiency in tool usage.",
      "tools_called_num": 6,
      "tools_called_expected": 3,
      "answer": "Paradigm Health (operating as Paradigm) has raised two major rounds to date:\n\n| Round | Date | Amount | Lead Investor(s) | Article Source |\n| :--- | :--- | :--- | :--- | :--- |\n| **Series B** | 2024-12-04 | $78M | ARCH Venture Partners | [PR Newswire](https://www.prnewswire.com/news-releases/paradigm-health-raises-78-million-series-b-to-make-clinical-trials-part-of-routine-care-across-the-us-and-globally-302632924.html) |\n| **Series A** | 2023-01-30 | $203M | ARCH Venture Partners, General Catalyst | [FinSMEs](https://www.finsmes.com/2023/01/paradigm-raises-203m-in-series-a-funding.html) |\n\n*Note: Valuations for these rounds were not publicly disclosed in the dataset.*",
      "expected_answer": "Jan 29th 2023 Series A $203M led by ARCH Venture Partners and General Catalyst (https://www.finsmes.com/2023/01/paradigm-raises-203m-in-series-a-funding.html). Dec 4 2025 Series B $78B led by ARCH Venture Partners (https://www.prnewswire.com/news-releases/paradigm-health-raises-78-million-series-b-to-make-clinical-trials-part-of-routine-care-across-the-us-and-globally-302632924.html). Valuations not disclosed in either.",
      "sql_queries": [
        "SELECT id, name, domain, is_investor\nFROM organizations\nWHERE SEARCH(organizations, 'Paradigm Health')\nLIMIT 25",
        "SELECT id, name, domain, is_investor, short_description\nFROM organizations\nWHERE name LIKE '%Paradigm%'\n  AND is_investor = FALSE\nLIMIT 25",
        "SELECT\n  d.financing_type,\n  FORMAT_TIMESTAMP('%Y-%m-%d', d.date) AS deal_date,\n  d.size_usd,\n  v.valuation_usd,\n  v.valuation_type,\n  (SELECT ARRAY_AGG(o_inv.name)\n   FROM institutional_investments ii\n   JOIN organizations o_inv ON ii.organization_id = o_inv.id\n   WHERE ii.deal_id = d.id AND ii.lead_investor = TRUE) AS lead_investors,\n  (SELECT a.link\n   FROM articles a\n   WHERE a.canonical_deal_id = d.canonical_deal_id\n     AND a.is_primary = TRUE\n   ORDER BY a.source_priority ASC\n   LIMIT 1) AS article_link\nFROM deals d\nLEFT JOIN valuations v ON d.id = v.id\nWHERE d.organization_id = '3d9c6feb-5273-41bb-99c8-be3d9db7abcf'\nORDER BY d.date DESC",
        "WITH company_deals AS (\n  SELECT\n    d.id AS deal_id,\n    d.canonical_deal_id,\n    d.financing_type,\n    d.date,\n    d.size_usd,\n    v.valuation_usd,\n    v.valuation_type\n  FROM deals d\n  LEFT JOIN valuations v ON d.id = v.id\n  WHERE d.organization_id = '3d9c6feb-5273-41bb-99c8-be3d9db7abcf'\n)\nSELECT\n  cd.financing_type,\n  FORMAT_TIMESTAMP('%Y-%m-%d', cd.date) AS deal_date,\n  cd.size_usd,\n  cd.valuation_usd,\n  cd.valuation_type,\n  (SELECT ARRAY_AGG(o_inv.name)\n   FROM institutional_investments ii\n   JOIN organizations o_inv ON ii.organization_id = o_inv.id\n   WHERE ii.deal_id = cd.deal_id AND ii.lead_investor = TRUE) AS lead_investors,\n  (SELECT a.link\n   FROM articles a\n   WHERE a.canonical_deal_id = cd.canonical_deal_id\n     AND a.is_primary = TRUE\n   ORDER BY a.source_priority ASC\n   LIMIT 1) AS article_link\nFROM company_deals cd\nORDER BY cd.date DESC",
        "SELECT\n    d.id AS deal_id,\n    d.canonical_deal_id,\n    d.financing_type,\n    FORMAT_TIMESTAMP('%Y-%m-%d', d.date) AS deal_date,\n    d.size_usd,\n    v.valuation_usd,\n    v.valuation_type\nFROM deals d\nLEFT JOIN valuations v ON d.id = v.id\nWHERE d.organization_id = '3d9c6feb-5273-41bb-99c8-be3d9db7abcf'\nORDER BY d.date DESC",
        "SELECT\n    ii.deal_id,\n    o.name AS investor_name\nFROM institutional_investments ii\nJOIN organizations o ON ii.organization_id = o.id\nWHERE ii.deal_id IN ('29aaf69c-4686-4a52-8b73-0dd597c89147', '53e5e4db-7769-4b7e-ac17-55f332605e51')\n  AND ii.lead_investor = TRUE\n\nUNION ALL\n\nSELECT\n    canonical_deal_id AS deal_id,\n    link AS investor_name\nFROM articles\nWHERE canonical_deal_id IN ('2c25a5d0-c41b-4ae2-b90e-1afdf49d1486', '117ad438-7de9-41f9-a937-f6d387964cd5')\n  AND is_primary = TRUE\nQUALIFY ROW_NUMBER() OVER (PARTITION BY canonical_deal_id ORDER BY source_priority ASC) = 1"
      ],
      "expected_path": "Discover Paradigm organization ID using WHERE (LOWER(name) LIKE '%paradigm%' OR LOWER(short_description) LIKE '%paradigm health%') since company name may differ from marketing name. Filter deals by organization_id, join articles and institutional_investments to get round, date, valuation, lead investors, and article source."
    },
    {
      "test_id": 9,
      "question": "how many deals did https://www.techstars.com/ fund in 2023",
      "grade": "pass",
      "reasoning": "The agent followed a logical and efficient approach to answer the question. It first identified the correct organization record using the domain provided, then constructed a precise SQL query joining the deals, institutional investments, and organizations tables. The agent used a correct date range for the year 2023 and arrived at the exact count (57) specified in the expected answer. The process was completed in only two tool calls, demonstrating high efficiency.",
      "tools_called_num": 2,
      "tools_called_expected": 2,
      "answer": "Techstars (including its various regional and vertical accelerators) funded **57 deals** in 2023 according to the database.",
      "expected_answer": "Techstars funded 57 deals in 2023",
      "sql_queries": [
        "SELECT id, name, domain, is_investor\nFROM organizations\nWHERE domain = 'techstars.com' AND is_investor = TRUE",
        "SELECT COUNT(DISTINCT d.id) AS deal_count\nFROM deals d\nJOIN institutional_investments ii ON d.id = ii.deal_id\nJOIN organizations o ON ii.organization_id = o.id\nWHERE o.domain = 'techstars.com'\n  AND o.is_investor = TRUE\n  AND d.date >= TIMESTAMP('2023-01-01')\n  AND d.date < TIMESTAMP('2024-01-01')"
      ],
      "expected_path": "Find Techstars using domain = 'techstars.com' join to deals and filter year = 2023, COUNT distinct deals."
    },
    {
      "test_id": 10,
      "question": "Calculate what % of tech stars's seed investments from 2023 get a Series A follow-on from techstars",
      "grade": "pass",
      "reasoning": "The agent followed a logical and efficient approach to solve the problem. It correctly identified Techstars using the domain filter, isolated Seed investments from 2023, and then checked for follow-on Series A investments by the same investor. The final answer (30 seed companies, 1 follow-on, 3.33%) matches the expected example exactly. The agent used only 2 tool calls, which is well within the efficiency constraints.",
      "tools_called_num": 2,
      "tools_called_expected": 5,
      "answer": "Based on the data, Techstars made Seed investments in 30 companies in 2023. Of those companies, 1 has since received a Series A follow-on investment from Techstars, representing a **3.33% follow-on rate**.",
      "expected_answer": "Seed companies (Techstars entities participated in a SEED round in 2023): 30, of those, companies where Techstars later participated in a SERIES A: 1, percentage with Techstars follow-on into Series A: 3.33%",
      "sql_queries": [
        "WITH techstars_seed_2023 AS (\n  -- Companies that got a Seed investment from Techstars in 2023\n  SELECT DISTINCT d.organization_id\n  FROM deals d\n  JOIN institutional_investments ii ON d.id = ii.deal_id\n  JOIN organizations o_inv ON ii.organization_id = o_inv.id\n  WHERE o_inv.domain = 'techstars.com'\n    AND o_inv.is_investor = TRUE\n    AND d.financing_type = 'SEED'\n    AND d.date >= TIMESTAMP('2023-01-01')\n    AND d.date < TIMESTAMP('2024-01-01')\n),\ntechstars_series_a_follow_on AS (\n  -- Companies from the above list that got a Series A from Techstars at any time\n  SELECT DISTINCT d.organization_id\n  FROM deals d\n  JOIN institutional_investments ii ON d.id = ii.deal_id\n  JOIN organizations o_inv ON ii.organization_id = o_inv.id\n  JOIN techstars_seed_2023 s ON d.organization_id = s.organization_id\n  WHERE o_inv.domain = 'techstars.com'\n    AND o_inv.is_investor = TRUE\n    AND d.financing_type = 'SERIES_A'\n)\nSELECT\n  (SELECT COUNT(*) FROM techstars_seed_2023) AS total_seed_companies,\n  (SELECT COUNT(*) FROM techstars_series_a_follow_on) AS follow_on_companies,\n  ROUND(SAFE_DIVIDE((SELECT COUNT(*) FROM techstars_series_a_follow_on), (SELECT COUNT(*) FROM techstars_seed_2023)) * 100, 2) AS follow_on_percentage\n",
        "SELECT\n  COUNT(DISTINCT s_round.organization_id) AS total_seed_companies,\n  COUNT(DISTINCT a_round.organization_id) AS follow_on_companies,\n  ROUND(SAFE_DIVIDE(COUNT(DISTINCT a_round.organization_id), COUNT(DISTINCT s_round.organization_id)) * 100, 2) AS follow_on_percentage\nFROM (\n  SELECT DISTINCT d.organization_id\n  FROM deals d\n  JOIN institutional_investments ii ON d.id = ii.deal_id\n  JOIN organizations o_inv ON ii.organization_id = o_inv.id\n  WHERE o_inv.domain = 'techstars.com'\n    AND o_inv.is_investor = TRUE\n    AND d.financing_type = 'SEED'\n    AND d.date >= TIMESTAMP('2023-01-01')\n    AND d.date < TIMESTAMP('2024-01-01')\n) s_round\nLEFT JOIN (\n  SELECT DISTINCT d.organization_id\n  FROM deals d\n  JOIN institutional_investments ii ON d.id = ii.deal_id\n  JOIN organizations o_inv ON ii.organization_id = o_inv.id\n  WHERE o_inv.domain = 'techstars.com'\n    AND o_inv.is_investor = TRUE\n    AND d.financing_type = 'SERIES_A'\n) a_round ON s_round.organization_id = a_round.organization_id\n"
      ],
      "expected_path": "Find Techstars using domain = 'techstars.com' with is_investor = TRUE. Create CTE for seed investments: join institutional_investments to organizations (investor) to deals, filter financing_type = 'SEED' and YEAR(date) = 2023, group by company_id to get first seed date. Create CTE for Series A investments: same joins, filter financing_type = 'SERIES_A', group by company_id to get first Series A date. LEFT JOIN seed companies to Series A companies where Series A date > seed date. Count total seed companies, count those with follow-on Series A, calculate percentage."
    }
  ]
}