{
  "metadata": {
    "total_tests": 9,
    "passed": 6,
    "partial": 3,
    "failed": 0,
    "pass_rate": 66.66666666666666,
    "timestamp": "2025-12-28T22:55:23.437Z"
  },
  "tests": [
    {
      "test_id": 1,
      "question": "what are some seed stage companies whos founder went to mit sloan and y combinator invested in them",
      "grade": "pass",
      "reasoning": "The agent followed a logical, defensible approach: it located the MIT Sloan education record, identified Y Combinator as an investor, and queried deals to find SEED financings where a founder attended MIT Sloan and YC invested. The result (Deasie — founder Mikko Peiponen) is plausible and the agent supplied deal date, size, founder LinkedIn and noted methodology. Efficiency was good (3 tool calls, below the expected limit). Minor caveats that prevent a perfect score: the agent matched YC by the single domain 'ycombinator.com' (which can miss related YC entities like YC Continuity) and constrained the education match to a specific linkedin_education id (MIT Sloan) rather than broader MIT entries — both of which the agent acknowledged and offered to expand. These are reasonable, transparent choices and the answer addresses the question, so overall the work passes.",
      "tools_called_num": 3,
      "tools_called_expected": 6,
      "answer": "I searched the Fundable dataset for companies with SEED financings that Y Combinator invested in and that have at least one founder who attended MIT Sloan.\n\nResult (matches found)\n- Deasie — founder Mikko Peiponen (LinkedIn: https://www.linkedin.com/in/mikkopeiponen/)  \n  - Seed round date: 2023-10-12  \n  - Size: $2.9M (USD)  \n  - Investor: Y Combinator  \n  - Website/domain: deasie.com\n\nNotes / methodology\n- I matched MIT Sloan using the linkedin_education id \"mit-sloan-school-of-management\".\n- I matched Y Combinator by investor domain = \"ycombinator.com\" (this aggregates YC, YC Continuity/related entities).\n- Filtering required: deals.financing_type = 'SEED' and organization_associations.is_founder = TRUE.\n\nWould you like me to:\n- Expand the search to include founders who attended MIT (any MIT entry, not just Sloan)?\n- Include YC-affiliated investor entities beyond the ycombinator.com domain (e.g., YC Continuity, YC Ventures)?\n- Return more results or provide a CSV / table with company + founder + deal + article links?",
      "expected_answer": "Deasie founder Mikko Peiponen went to MIT Sloan School of Management and Y Combinator invested in them",
      "sql_queries": [
        "SELECT id, name, domain, is_investor\nFROM organizations\nWHERE (\n  SEARCH(organizations, 'y combinator')\n  OR SEARCH(organizations, 'ycombinator')\n  OR SEARCH(organizations, 'yc')\n)\nAND is_investor = TRUE\nLIMIT 20;",
        "SELECT id, education_name, education_url\nFROM linkedin_education\nWHERE (\n  SEARCH(linkedin_education, 'sloan')\n  OR SEARCH(linkedin_education, 'mit sloan')\n  OR SEARCH(linkedin_education, 'sloan school')\n  OR SEARCH(linkedin_education, 'massachusetts institute of technology sloan')\n)\nLIMIT 50;",
        "SELECT\n  o.id AS company_id,\n  o.name AS company_name,\n  o.domain AS company_domain,\n  p.id AS founder_id,\n  p.name AS founder_name,\n  p.linkedin_person_url,\n  d.id AS deal_id,\n  d.size_usd,\n  FORMAT_TIMESTAMP('%Y-%m-%d', d.date) AS deal_date,\n  STRING_AGG(DISTINCT inv.name, ', ') AS yc_entities\nFROM deals d\nJOIN institutional_investments ii ON d.id = ii.deal_id\nJOIN organizations inv ON ii.organization_id = inv.id AND inv.is_investor = TRUE AND inv.domain = 'ycombinator.com'\nJOIN organizations o ON d.organization_id = o.id AND o.is_investor = FALSE\nJOIN organization_associations oa ON oa.organization_id = o.id AND oa.is_founder = TRUE\nJOIN people p ON oa.person_id = p.id\nJOIN linkedin_person_education lpe ON p.id = lpe.person_id AND lpe.linkedin_education_id = 'mit-sloan-school-of-management'\nWHERE d.financing_type = 'SEED'\nGROUP BY o.id, o.name, o.domain, p.id, p.name, p.linkedin_person_url, d.id, d.size_usd, d.date\nORDER BY d.date DESC\nLIMIT 50;"
      ],
      "expected_path": "Discover MIT in linkedin_education, join to linkedin_person_education to find alumni, discover Y Combinator (is_investor=TRUE), join institutional_investments to find YC portfolio companies, join organization_associations WHERE is_current=TRUE to find current employees at those companies, COUNT distinct people."
    },
    {
      "test_id": 2,
      "question": "what is openais valuation since start of 2025: for each fundraise what was their valuation",
      "grade": "pass",
      "reasoning": "The agent took a logical, data-driven approach that matches the expected method (find OpenAI by domain, join deals to valuations and pick the closest/pre‑money valuation). The SQL shown implements sensible matching logic (preferring pre‑money valuations and nearest date) and filters out nonpositive valuations. The returned summary is clear and defensible: it converts units correctly (dataset in millions), shows each 2025 raise with the matched valuation, gives valuation dates and days difference, and explicitly notes null valuation_type where applicable. Efficiency was good — 3 tool calls (≤4 expected). The only minor limitation is that one round (2025‑12‑11) was matched to a valuation 70 days earlier; the agent flagged this and offered alternative matching rules. Overall the work is correct, well‑documented, and practically complete, so it passes.",
      "tools_called_num": 3,
      "tools_called_expected": 4,
      "answer": "Here are OpenAI's fundraises since 2025-01-01 and the valuation recorded in the database for each round.\n\nNotes:\n- All monetary fields in the dataset are in MILLIONS (so 1 = $1M). I convert to human-readable USD below.\n- I matched each deal to the closest valuation record (preferring pre-money valuations where present). The valuation_date and days difference from the deal are shown so you can see proximity.\n- Organization used: OpenAI (company profile id = 97ae048e-77bc-471b-821a-f9decb373689).\n\nResults (chronological)\n1) Deal date: 2025-03-31\n   - Financing type: EQUITY\n   - Raise size: 40,000.0 (→ $40,000M = $40.0B)\n   - Valuation date: 2025-03-31\n   - Valuation (dataset): 300,000.0 (→ $300,000M = $300.0B)\n   - Valuation type: (null)\n   - Days between deal & valuation: 0\n\n2) Deal date: 2025-08-01\n   - Financing type: EQUITY\n   - Raise size: 8,300.0 (→ $8,300M = $8.3B)\n   - Valuation date: 2025-08-01\n   - Valuation (dataset): 300,000.0 (→ $300,000M = $300.0B)\n   - Valuation type: (null)\n   - Days between deal & valuation: 0\n\n3) Deal date: 2025-10-02\n   - Financing type: SECONDARY_MARKET\n   - Raise size: 6,600.0 (→ $6,600M = $6.6B)\n   - Valuation date: 2025-10-02\n   - Valuation (dataset): 500,000.0 (→ $500,000M = $500.0B)\n   - Valuation type: (null)\n   - Days between deal & valuation: 0\n\n4) Deal date: 2025-12-11\n   - Financing type: EQUITY\n   - Raise size: 1,000.0 (→ $1,000M = $1.0B)\n   - Valuation date (closest in DB): 2025-10-02\n   - Valuation (dataset): 500,000.0 (→ $500,000M = $500.0B)\n   - Valuation type: (null)\n   - Days between deal & valuation: 70\n\nWould you like:\n- The source article links for each deal/valuation (if available)?\n- The same table including canonical_deal_id and investor list per round?\n- A different matching rule (for example: only valuations on the same date or within ±30 days)?",
      "expected_answer": "In march 2025: raises $40B at $300B valuation, in August raised $8.3B at $300B, in Oct had secondary selling $6.6B at $500B. Most recent $1B raise in Dec 2025 didnt' have valuation attached. ",
      "sql_queries": [
        "SELECT id, name, domain, is_investor\nFROM organizations\nWHERE (\n  SEARCH(organizations, 'openai')\n  OR SEARCH(organizations, 'open ai')\n)\nLIMIT 20;",
        "SELECT id, name, domain, is_investor, total_raised, latest_valuation_usd\nFROM organizations\nWHERE domain = 'openai.com'\nLIMIT 10;",
        "SELECT\n  d.id AS deal_id,\n  d.financing_type,\n  d.size_usd,\n  FORMAT_TIMESTAMP('%Y-%m-%d', d.date) AS deal_date,\n  v.id AS valuation_id,\n  v.valuation_usd,\n  v.valuation_type,\n  FORMAT_TIMESTAMP('%Y-%m-%d', v.date) AS valuation_date,\n  ABS(TIMESTAMP_DIFF(v.date, d.date, DAY)) AS days_diff\nFROM deals d\nJOIN organizations o ON d.organization_id = o.id AND o.id = '97ae048e-77bc-471b-821a-f9decb373689' AND o.is_investor = FALSE\nLEFT JOIN valuations v ON v.organization_id = o.id AND v.valuation_usd IS NOT NULL AND v.valuation_usd > 0\nWHERE d.date >= TIMESTAMP('2025-01-01')\nQUALIFY ROW_NUMBER() OVER (\n  PARTITION BY d.id\n  ORDER BY\n    CASE WHEN LOWER(v.valuation_type) = 'pre_money' THEN 0 ELSE 1 END,\n    ABS(TIMESTAMP_DIFF(v.date, d.date, DAY)) ASC\n) = 1\nORDER BY d.date DESC;\n"
      ],
      "expected_path": "Discover OpenAI in organizations (domain = 'openai.com'), join to valuations to get valuation history"
    },
    {
      "test_id": 3,
      "question": "i want to talk to people on the sales leadership team at pave the comp platform. Who are some people i can speak to and their contact info (email, phone, linkedin)",
      "grade": "partial",
      "reasoning": "Overall the agent followed a sound and expected approach: it discovered the Pave organization record, joined organization_associations to people, filtered for is_current = TRUE and sales/revenue-related titles, and returned names with available contact fields. Efficiency was good — only 2 DB calls (well within the expected ≤5). The answer is useful and largely defensible as a first-pass list of sales contacts at Pave and the agent responsibly noted that dataset contact info can be incomplete or stale. However, there are notable data-quality / execution issues that prevent a full pass: (1) Some returned contacts have inconsistent or suspicious fields — e.g., Joseph Collins’s LinkedIn URL points to a different name (an \"ethan-c...\" profile), Armand Farrokh’s email uses a non-pave domain (afarrokh@30mpc.com), and Alan Shen’s email is at rippling.com — which suggests stale or mismatched records rather than verified Pave contact info. (2) Several entries lack emails/phones entirely. (3) The agent did not explicitly show the organization_id lookup step or provide provenance/source links for the contacts (it did warn that verification is recommended). Given the question — to get people on Pave’s sales leadership and their contact info — the agent produced a reasonable candidate list and next-step options, but data inconsistencies and incomplete contact info mean the output needs verification before outreach. Therefore the result is meaningful progress but not fully correct/verified, so a \"partial\" grade is appropriate.",
      "tools_called_num": 2,
      "tools_called_expected": 5,
      "answer": "Here are people in the Fundable dataset who are currently associated with Pave (Pave — pave.com) and have sales / revenue / account titles. I include the contact fields the dataset has (email, phone, LinkedIn). Note: contact info in the dataset can be incomplete or stale — I recommend verifying before outreach.\n\n1) Armand Farrokh — VP of Sales (is_key_person = true)  \n   - LinkedIn: https://www.linkedin.com/in/armand-farrokh/  \n   - Email (in DB): afarrokh@30mpc.com  \n   - Phone (in DB): +1 310-962-5822\n\n2) Harry Lort-Phillips — Director, Sales  \n   - LinkedIn: https://www.linkedin.com/in/harry-lort-phillips/  \n   - Email (in DB): harry@pave.com  \n   - Phone: (not listed)\n\n3) LaRon Bullock — Account Executive (is_key_person = true)  \n   - LinkedIn: https://www.linkedin.com/in/laron-bullock/  \n   - Email: (not listed)  \n   - Phone: (not listed)\n\n4) Joseph Collins — Sales Development Representative (is_key_person = true)  \n   - LinkedIn: https://www.linkedin.com/in/ethan-c-0a3771106/  \n   - Email: (not listed)  \n   - Phone: (not listed)\n\n5) Alan Shen — Data Account Executive (is_key_person = true)  \n   - LinkedIn: https://www.linkedin.com/in/alanshen0214/  \n   - Email (in DB): ashen@rippling.com  \n   - Phone: (not listed)\n\nWould you like me to:\n- Expand the search to include other related titles (e.g., Head of Revenue, CRO, Customer Success leaders)?  \n- Try to verify/update emails/phone numbers (e.g., via company pages / articles in the dataset) and return source links?  \n- Export these contacts to CSV or prepare outreach intros/templates?",
      "expected_answer": "You can talk to VP of Sales Armand Farrokh (https://www.linkedin.com/in/armand-farrokh/) email: afarrokh@30mpc.com  or Harry Lort-Phillips (https://www.linkedin.com/in/harry-lort-phillips/) email: harry@pave.com",
      "sql_queries": [
        "SELECT id, name, domain, is_investor, website\nFROM organizations\nWHERE (\n  SEARCH(organizations, 'pave')\n  OR SEARCH(organizations, 'pave the comp')\n  OR domain = 'pave.com'\n)\nAND is_investor = FALSE\nLIMIT 20;",
        "SELECT\n  p.id AS person_id,\n  p.name,\n  p.linkedin_person_url,\n  p.email,\n  p.phone,\n  oa.title,\n  oa.is_founder,\n  oa.is_ceo,\n  oa.is_key_person,\n  oa.is_current\nFROM organization_associations oa\nJOIN people p ON oa.person_id = p.id\nWHERE oa.organization_id = 'bb1b34cf-9d07-47f2-87a4-f5248945264d'\n  AND oa.is_current = TRUE\n  AND (\n    LOWER(oa.title) LIKE '%sales%'\n    OR LOWER(oa.title) LIKE '%revenue%'\n    OR LOWER(oa.title) LIKE '%cro%'\n    OR LOWER(oa.title) LIKE '%head of sales%'\n    OR LOWER(oa.title) LIKE '%vp%sales%'\n    OR LOWER(oa.title) LIKE '%vice president%'\n    OR LOWER(oa.title) LIKE '%director%sales%'\n    OR LOWER(oa.title) LIKE '%account executive%'\n  )\nORDER BY oa.is_key_person DESC, p.name\nLIMIT 50;"
      ],
      "expected_path": "Discover Pave in organizations (domain = 'pave.com'), join to organization_associations to find people, filter WHERE is_current=TRUE and look for sales related roles, return people's names, emails, and linkedin profiles."
    },
    {
      "test_id": 4,
      "question": "Find companies that raised Series B within 6 months of Series A (fast follow-on) in 2025 that are US based and have raised at least $150M",
      "grade": "partial",
      "reasoning": "Approach: The agent used a reasonable, standard approach (self-join deals as A and B, join to organizations, compute days between, and filter by country and total_raised). The SQL structure, use of ROW_NUMBER to pick one pair per company, and the result formatting are all sensible. Efficiency: Tool usage was efficient (2 calls, within expected bounds).\n\nPrimary problem (why not full pass): The agent appears to have misinterpreted the temporal requirement. They restricted Series A to EXTRACT(YEAR FROM a.date) = 2025 (i.e., A must be in 2025). The expected interpretation (and the hint SQL) implies checking for B within 6 months of A where the fast follow-on occurs in 2025 (or at least not restricting A to 2025). By forcing A to be in 2025, the agent likely omitted valid companies whose A was in late‑2024 but whose B fell in 2025 (examples in the provided expected-answer list). That makes the result set incomplete relative to the intended query.\n\nMinor issues: The agent used TIMESTAMP_ADD(a.date, INTERVAL 6 MONTH) (and in the second query TIMESTAMP(DATE_ADD(DATE(a.date), INTERVAL 6 MONTH))) rather than the suggested TIMESTAMP(DATE_SUB(d2.date, INTERVAL 6 MONTH)) <= d1.date — functionally similar for a.month-based window but the DATE_ADD(TIMESTAMP→DATE→TIMESTAMP) variant can alter time-of-day granularity (minor). They also corrected total_raised casting in the second query (SAFE_CAST) which is good.\n\nAnswer quality: The returned companies and A→B pairs look consistent with the agent's filters and are defensible given their interpretation (A in 2025). However, because the likely intended interpretation was to capture fast follow-ons that culminated in 2025 (allowing A in late 2024), the result is incomplete. If the user actually meant \"both rounds in 2025\", the agent would have fully satisfied the ask. Given the ambiguity and the probable intent, this is a partial success.",
      "tools_called_num": 2,
      "tools_called_expected": 3,
      "answer": "I searched Fundable for U.S. companies whose Series A occurred in 2025 and that had a Series B within 6 months after that A (fast follow-on). I also required the company to have raised at least $150M total (organizations.total_raised, values in MILLIONS).\n\nSummary (companies found)\n\n1) OpenEvidence (openevidence.com)  \n   - Total raised (dataset): 735.0 → $735M  \n   - Series A: 2025-02-24 — $75.0M  \n   - Series B: 2025-07-15 — $210.0M  \n   - Days between A → B: 141 days (~4.7 months)\n\n2) Apptronik (apptronik.com)  \n   - Total raised (dataset): 417.6 → $417.6M  \n   - Series A: 2025-02-13 — $350.0M  \n   - Series B: 2025-03-18 — $53.0M  \n   - Days between A → B: 33 days (~1.1 months)\n\n3) Chai Discovery (chaidiscovery.com)  \n   - Total raised (dataset): 200.0 → $200M  \n   - Series A: 2025-08-06 — $70.0M  \n   - Series B: 2025-12-15 — $130.0M  \n   - Days between A → B: 130 days (~4.3 months)\n\n4) Adaptive Security (adaptivesecurity.com)  \n   - Total raised (dataset): 179.0 → $179M  \n   - Series A: 2025-09-18 — $55.0M  \n   - Series B: 2025-12-16 — $81.0M  \n   - Days between A → B: 88 days (~2.9 months)\n\nNotes / assumptions\n- Filter logic: Series A EXTRACT(YEAR)=2025; Series B date >= A.date AND <= A.date + 6 months; company country_code = 'United States'; organizations.total_raised >= 150 (MILLIONS).\n- total_raised is the pre-computed field on organizations (EXCLUDES secondary-market transactions per dataset docs).\n- Series sizes and total_raised are expressed in MILLIONS in the dataset (I’ve shown both the raw millions and the $M interpretation).\n- I returned one representative A→B pair per company (the closest B to the A within 6 months).\n\nWould you like any of the following next?\n- Full CSV / downloadable table of these results (with canonical_deal_id and investor lists)?  \n- The press/article links and investor lists for each A and B round?  \n- A relaxed search (e.g., allow Series A in late 2024 with B within 6 months, or use a different total-raise threshold)?",
      "expected_answer": "OpenEvidence — openevidence.com — $735.0M — 2025-02-24 → 2025-07-15 — 5 months (141 days) , fal — fal.ai — $587.0M — 2024-09-26 → 2025-02-13 — 5 months (140 days)  , Mercor — mercor.com — $483.6M — 2024-09-19 → 2025-02-20 — 5 months (154 days) , Apptronik — apptronik.com — $417.6M — 2025-02-13 → 2025-03-18 — 1 month (33 days) , Hippocratic AI — hippocraticai.com — $387.0M — 2024-09-19 → 2025-01-10 — 4 months (113 days)  , Chai Discovery — chaidiscovery.com — $200.0M — 2025-08-06 → 2025-12-15 — 4 months (130 days), and Adaptive Security — adaptivesecurity.com — $179.0M — 2025-09-18 → 2025-12-16 — 3 months (88 days)",
      "sql_queries": [
        "SELECT\n  o.id AS company_id,\n  o.name AS company_name,\n  o.domain,\n  o.total_raised AS total_raised_millions,\n  a.id AS series_a_deal_id,\n  FORMAT_TIMESTAMP('%Y-%m-%d', a.date) AS series_a_date,\n  a.size_usd AS series_a_size_millions,\n  b.id AS series_b_deal_id,\n  FORMAT_TIMESTAMP('%Y-%m-%d', b.date) AS series_b_date,\n  b.size_usd AS series_b_size_millions,\n  ABS(TIMESTAMP_DIFF(b.date, a.date, DAY)) AS days_between\nFROM deals a\nJOIN deals b ON a.organization_id = b.organization_id\nJOIN organizations o ON o.id = a.organization_id AND o.is_investor = FALSE\nWHERE a.financing_type = 'SERIES_A'\n  AND EXTRACT(YEAR FROM a.date) = 2025\n  AND b.financing_type = 'SERIES_B'\n  AND b.date >= a.date\n  AND b.date <= TIMESTAMP_ADD(a.date, INTERVAL 6 MONTH)\n  AND o.country_code = 'United States'\n  AND o.total_raised >= 150\nQUALIFY ROW_NUMBER() OVER (PARTITION BY o.id ORDER BY days_between ASC) = 1\nORDER BY o.total_raised DESC\nLIMIT 100;",
        "SELECT\n  o.id AS company_id,\n  o.name AS company_name,\n  o.domain,\n  o.total_raised AS total_raised_millions,\n  a.id AS series_a_deal_id,\n  FORMAT_TIMESTAMP('%Y-%m-%d', a.date) AS series_a_date,\n  a.size_usd AS series_a_size_millions,\n  b.id AS series_b_deal_id,\n  FORMAT_TIMESTAMP('%Y-%m-%d', b.date) AS series_b_date,\n  b.size_usd AS series_b_size_millions,\n  ABS(TIMESTAMP_DIFF(b.date, a.date, DAY)) AS days_between\nFROM deals a\nJOIN deals b ON a.organization_id = b.organization_id\nJOIN organizations o ON o.id = a.organization_id AND o.is_investor = FALSE\nWHERE a.financing_type = 'SERIES_A'\n  AND EXTRACT(YEAR FROM a.date) = 2025\n  AND b.financing_type = 'SERIES_B'\n  AND b.date >= a.date\n  AND b.date <= TIMESTAMP(DATE_ADD(DATE(a.date), INTERVAL 6 MONTH))\n  AND o.country_code = 'United States'\n  AND SAFE_CAST(o.total_raised AS FLOAT64) >= 150\nQUALIFY ROW_NUMBER() OVER (PARTITION BY o.id ORDER BY days_between ASC) = 1\nORDER BY SAFE_CAST(o.total_raised AS FLOAT64) DESC\nLIMIT 100;"
      ],
      "expected_path": "Self-join deals table (d1 and d2) on organization_id, filter d1 WHERE financing_type = 'SERIES_A' and d2 WHERE financing_type = 'SERIES_B', calculate time difference between d2.date and d1.date. CRITICAL: deals.date is TIMESTAMP type - use TIMESTAMP(DATE_SUB(d2.date, INTERVAL 6 MONTH)) <= d1.date for month-based comparisons. Join to organizations to get company names. Return company name, Series A date, Series B date, time difference."
    },
    {
      "test_id": 5,
      "question": "For fintech companies what is an average valuation at series A stage in 2025 - provide some examples",
      "grade": "pass",
      "reasoning": "The agent followed a logical, defensible approach and produced a clear, reproducible answer. They: (a) located a fintech industry permalink, (b) filtered organizations to non-investors in that industry, (c) restricted deals to 2025 Series A, (d) matched each Series A to the nearest valuation within ±90 days (preferring pre-money), and (e) computed aggregated statistics and returned concrete examples. The SQL shows appropriate use of a closest-valuation selection (ROW_NUMBER with proximity and pre-money preference), and the agent correctly noted the dataset unit (millions) and key limitations (small sample, sensitivity to outliers, possible industry scope differences, and missing valuation records). Efficiency was good — only 2 tool calls (within the expected budget). Minor issues: the agent did not use the exact subquery pattern recommended to avoid 1:N cartesian effects (they used a join filtered by a single permalink, which in practice likely avoids duplication but deviates from the exact prescribed pattern), and the sample size is small (7 deals), which the agent correctly disclosed. Overall the result (avg ≈ $338.45M with 7 examples) is reasonable and the methodology is sound, so I mark this as pass.",
      "tools_called_num": 2,
      "tools_called_expected": 4,
      "answer": "Summary (fintech Series A valuations in 2025)\n\n- Sample size: 7 Series A deals (companies classified with industry_permalink = \"fintech-e067\")  \n- Average Series A valuation (closest valuation within ±90 days of the Series A): 338.45 million USD (dataset values are in MILLIONS → 338.45 = $338.45M)\n\nHow I calculated it\n- Selected companies with organization_industries.industry_permalink = 'fintech-e067'.  \n- Filtered deals where financing_type = 'SERIES_A' and EXTRACT(YEAR FROM deal_date) = 2025.  \n- Matched each Series A to the nearest valuation record within ±90 days (preferring pre-money valuations when flagged).  \n- Averaged the matched valuation_usd values (values stored in MILLIONS in the dataset).\n\nExamples (top matches by valuation)\n1) Plata Card (platacard.mx)  \n   - Series A date: 2025-03-11  \n   - Series A size: 160.0 → $160.0M  \n   - Matched valuation: 1,500.0 → $1,500.0M = $1.5B  \n   - Valuation date: 2025-03-11\n\n2) MintOak Innovations (mintoak.com)  \n   - Series A date: 2025-12-26  \n   - Series A size: 5.93 → $5.93M  \n   - Matched valuation: 278.0 → $278.0M  \n   - Valuation date: 2025-12-26\n\n3) Ostium (ostium.io)  \n   - Series A date: 2025-12-04  \n   - Series A size: 24.0 → $24.0M  \n   - Matched valuation: 250.0 → $250.0M  \n   - Valuation date: 2025-12-03\n\n4) Meanwhile (meanwhilesgroup.com)  \n   - Series A date: 2025-04-14  \n   - Series A size: 40.0 → $40.0M  \n   - Matched valuation: 190.0 → $190.0M  \n   - Valuation date: 2025-04-14\n\n5) RealVantage (realvantage.co)  \n   - Series A date: 2025-12-09  \n   - Series A size: 10.0 → $10.0M  \n   - Matched valuation: 70.0 → $70.0M  \n   - Valuation date: 2025-12-09\n\n6) myTU (mytu.co)  \n   - Series A date: 2025-03-04  \n   - Series A size: 11.76 → $11.76M  \n   - Matched valuation: 41.15 → $41.15M  \n   - Valuation date: 2025-03-04\n\n7) TeklifimGelsin (teklifimgelsin.com)  \n   - Series A date: 2025-11-07  \n   - Series A size: 4.0 → $4.0M  \n   - Matched valuation: 40.0 → $40.0M  \n   - Valuation date: 2025-11-07\n\nLimitations & notes\n- Industry mapping: I used the dataset's FinTech classification (industry_permalink = fintech-e067). If you want a broader definition (include payments, financial-services, lending, etc.) I can expand the filter.  \n- Valuation matching: I matched to the nearest valuation within ±90 days; some Series A deals may not have a nearby valuation record and were excluded from the average. The dataset flags valuation_type but many records lack pre/post specification.  \n- Small sample: only 7 matched Series A valuations in this query — average may be sensitive to outliers (e.g., Plata Card at $1.5B).  \n- Values are from Fundable dataset (may differ from press reports); all monetary numbers are in MILLIONS.\n\nWould you like me to:\n- Expand to include related industry permalinks (payments, financial-services, insurtech) and re-run?  \n- Change the valuation matching window (±30 or ±180 days)?  \n- Return the raw query results / CSV or show distributions (median, quartiles) to reduce outlier impact?",
      "expected_answer": "Average Series A valuation for US-based fintech companies in 2025 (per Fundable data & our matching rules): $1,797 million (≈ $1.8B). This average is computed from 3 Series A deals in 2025 for US fintech companies where we could match a recorded valuation. Examples: Tempo — deal date 2025-10-17, Series A size: $500.0M, Matched valuation: $5,000.0M, Website: https://tempo.xyz/; Ostium — deal date 2025-12-04, Series A size: $24.0M, Matched valuation: $250.0M, Website: https://www.ostium.io; Strive Asset Management — deal date 2025-11-10, Series A size: $160.0M, Matched valuation: $141.0M, Website: https://www.strivefunds.com",
      "sql_queries": [
        "SELECT DISTINCT industry_name, industry_permalink\nFROM industry_classifications\nWHERE SEARCH(industry_classifications, 'fintech')\n   OR SEARCH(industry_classifications, 'financial')\nORDER BY industry_name\nLIMIT 50;",
        "WITH series_a AS (\n  SELECT\n    d.id AS deal_id,\n    d.organization_id,\n    d.size_usd AS series_a_size_millions,\n    d.date AS series_a_date,\n    o.name AS company_name,\n    o.domain\n  FROM deals d\n  JOIN organizations o ON d.organization_id = o.id AND o.is_investor = FALSE\n  JOIN organization_industries oi ON oi.organization_id = o.id\n  WHERE d.financing_type = 'SERIES_A'\n    AND EXTRACT(YEAR FROM d.date) = 2025\n    AND oi.industry_permalink = 'fintech-e067'\n),\nclosest_valuation AS (\n  SELECT\n    sa.*,\n    v.id AS valuation_id,\n    v.valuation_usd,\n    v.valuation_type,\n    v.date AS valuation_date,\n    ABS(TIMESTAMP_DIFF(v.date, sa.series_a_date, DAY)) AS days_diff\n  FROM series_a sa\n  LEFT JOIN valuations v ON v.organization_id = sa.organization_id AND v.valuation_usd IS NOT NULL AND v.valuation_usd > 0\n  WHERE ABS(TIMESTAMP_DIFF(v.date, sa.series_a_date, DAY)) <= 90\n  QUALIFY ROW_NUMBER() OVER (\n    PARTITION BY sa.deal_id\n    ORDER BY\n      CASE WHEN LOWER(v.valuation_type) = 'pre_money' THEN 0 ELSE 1 END,\n      ABS(TIMESTAMP_DIFF(v.date, sa.series_a_date, DAY)) ASC\n  ) = 1\n)\nSELECT\n  COUNT(*) AS series_a_deal_count,\n  ROUND(AVG(valuation_usd), 2) AS avg_series_a_valuation_millions,\n  -- examples (top by valuation)\n  (\n    SELECT ARRAY_AGG(STRUCT(company_name, domain, FORMAT_TIMESTAMP('%Y-%m-%d', series_a_date) AS series_a_date, series_a_size_millions, valuation_usd, FORMAT_TIMESTAMP('%Y-%m-%d', valuation_date) AS valuation_date, days_diff) ORDER BY valuation_usd DESC LIMIT 10)\n    FROM closest_valuation\n  ) AS examples\nFROM closest_valuation;\n"
      ],
      "expected_path": "Discover industry_permalink in industry_classifications using SEARCH() with multiple terms ('fintech' OR 'financial services' OR 'financial technology'). Filter organizations WHERE id IN (subquery to organization_industries with discovered permalink) AND is_investor = FALSE. CRITICAL: Use subquery pattern for organization_industries to avoid cartesian products from 1:N relationship. Join to deals WHERE financing_type = 'SEED', join to valuations matching on organization_id and approximate dates. REMINDER: Valuation values are in millions. Calculate AVG/MEDIAN/MIN/MAX, return aggregated stats plus 5-10 example companies with name, seed valuation, seed date."
    },
    {
      "test_id": 6,
      "question": "which us-based investors have invested in at least 20 deals of asian companies in 2025",
      "grade": "pass",
      "reasoning": "Overall the agent used a reasonable, sound approach and produced a defensible answer. Strengths: they joined institutional_investments -> deals -> organizations (investee and investor), filtered deals to calendar-year 2025, restricted investees to a broad set of Asian country values, restricted investors to US-based orgs, grouped by investor and applied a HAVING count >= 20, and returned example deals — which matches the expected analytic pattern. They stayed within a reasonable number of tool calls (4), which is acceptable for this task. Caveats / minor issues: the agent hard-coded a long list of Asian country names (including Middle East and Central Asia), rather than deriving the Asia country codes programmatically from the org table; that choice is defensible given ambiguity about what counts as Asia, but it can introduce mismatches if the dataset uses ISO codes (e.g., 'US' or 'CN') or variant spellings. Also comparing LOWER(inv.country_code) = 'united states' rather than an ISO code is fragile depending on the data convention. Despite those implementation risks, the result (Accel — 31, Lightspeed Venture Partners — 22, with examples) follows the requested metric and the agent documented assumptions and offered sensible next steps. Given the reasonable approach, correct aggregation logic, and useful caveats, this warrants a pass.",
      "tools_called_num": 4,
      "tools_called_expected": 4,
      "answer": "Answer — US-based investors with >=20 deals in Asian companies (2025)\n\nI looked for institutional investors whose org.country_code = \"United States\" and counted distinct deals in 2025 where the funded company (deal.organization_id) is located in an Asian country. I used a broad list of Asian country names (China, India, Japan, South Korea, Singapore, Hong Kong, Taiwan, Indonesia, Malaysia, Philippines, Vietnam, Thailand, Pakistan, Bangladesh, Israel, Saudi Arabia, United Arab Emirates, Turkey, Kazakhstan, Sri Lanka, Nepal, Myanmar, Cambodia, Laos, Mongolia, Macao, Bahrain, Jordan, Lebanon, Kuwait, Oman, Qatar, Azerbaijan, Uzbekistan, Kyrgyzstan, Tajikistan, Iran, Iraq, Yemen, Armenia, Georgia).\n\nResults\n- Accel (accel.com) — 31 Asian-company deals in 2025  \n  Example portfolio companies (2025 deals) — PowerUp Money (India, SERIES_A, 2025-12-22), EtherealX (India, SERIES_A, 2025-12-18), Vega (Israel, SERIES_B, 2025-12-17), Spinny (India, SERIES_G, 2025-12-13), Port (Israel, SERIES_C, 2025-12-11). (up to 10 examples returned)\n\n- Lightspeed Venture Partners (lsvp.com) — 22 Asian-company deals in 2025  \n  Example portfolio companies (2025 deals) — Airbound (India, EQUITY, 2025-12-11), Snabbit (India, SERIES_C, 2025-10-29), Zepto (India, EQUITY, 2025-10-16), Notch.cx (Israel, SEED, 2025-10-01), Seekho (India, SERIES_B, 2025-09-03). (up to 10 examples returned)\n\nNotes & caveats\n- Definition of “Asian companies”: I used the country_code field values listed above. If you prefer a narrower or different set (e.g., only East & Southeast Asia, exclude Middle East / Israel), I can re-run with that scope.  \n- Time window: deals with EXTRACT(YEAR)=2025 (calendar year). If you want a rolling 12-month window or Q-specific analysis, say so.  \n- Counting: distinct deal IDs (so syndicated deals count once per investor).  \n- Dataset source: Fundable. Country names use full names (not ISO codes). Example company names and deal types/dates come from the matched deal rows.\n\nNext steps I can do for you\n- Return the full list of deals per investor (CSV/excel) including investee country, financing_type, deal date, and canonical_deal_id.  \n- Expand the investor list to include non-US investors, or lower the threshold (e.g., >=10 deals).  \n- Restrict Asian definition (e.g., only India/China/Southeast Asia) and re-run.  \nWhich would you like?",
      "expected_answer": "Accel has done 31 deals in that time frame and Lightspeed Venture Partners has done 22 deals",
      "sql_queries": [
        "SELECT DISTINCT country_code, COUNT(*) OVER() as total_rows, COUNT(*) as cnt\nFROM organizations\nWHERE country_code IS NOT NULL\n  AND is_investor = FALSE\nGROUP BY country_code\nORDER BY cnt DESC\nLIMIT 200;",
        "SELECT\n  inv.id AS investor_id,\n  inv.name AS investor_name,\n  inv.domain AS investor_domain,\n  COUNT(DISTINCT d.id) AS asian_deal_count_2025\nFROM institutional_investments ii\nJOIN deals d ON ii.deal_id = d.id\nJOIN organizations comp ON d.organization_id = comp.id AND comp.is_investor = FALSE\nJOIN organizations inv ON ii.organization_id = inv.id AND inv.is_investor = TRUE\nWHERE EXTRACT(YEAR FROM d.date) = 2025\n  AND LOWER(inv.country_code) = 'united states'\n  AND LOWER(comp.country_code) IN (\n    'china','india','japan','south korea','singapore','hong kong','taiwan','indonesia','malaysia','philippines','vietnam','thailand','pakistan','bangladesh','israel','saudi arabia','united arab emirates','turkey','kazakhstan','sri lanka','nepal','myanmar','cambodia','lao people''s democratic republic','laos','lao people\\'s democratic republic','mongolia','macao','macau','bahrain','jordan','lebanon','kuwait','oman','qatar','azerbaijan','uzbekistan','kyrgyzstan','tajikistan','iran','iraq','yemen','armenia','georgia'\n  )\nGROUP BY inv.id, inv.name, inv.domain\nHAVING COUNT(DISTINCT d.id) >= 20\nORDER BY asian_deal_count_2025 DESC\nLIMIT 100;",
        "SELECT\n  inv.id AS investor_id,\n  inv.name AS investor_name,\n  inv.domain AS investor_domain,\n  COUNT(DISTINCT d.id) AS asian_deal_count_2025\nFROM institutional_investments ii\nJOIN deals d ON ii.deal_id = d.id\nJOIN organizations comp ON d.organization_id = comp.id AND comp.is_investor = FALSE\nJOIN organizations inv ON ii.organization_id = inv.id AND inv.is_investor = TRUE\nWHERE EXTRACT(YEAR FROM d.date) = 2025\n  AND LOWER(inv.country_code) = 'united states'\n  AND LOWER(comp.country_code) IN (\n    'china','india','japan','south korea','singapore','hong kong','taiwan','indonesia','malaysia','philippines','vietnam','thailand','pakistan','bangladesh','israel','saudi arabia','united arab emirates','turkey','kazakhstan','sri lanka','nepal','myanmar','cambodia','laos','mongolia','macao','bahrain','jordan','lebanon','kuwait','oman','qatar','azerbaijan','uzbekistan','kyrgyzstan','tajikistan','iran','iraq','yemen','armenia','georgia'\n  )\nGROUP BY inv.id, inv.name, inv.domain\nHAVING COUNT(DISTINCT d.id) >= 20\nORDER BY asian_deal_count_2025 DESC\nLIMIT 100;",
        "SELECT\n  inv.id AS investor_id,\n  inv.name AS investor_name,\n  inv.domain AS investor_domain,\n  ARRAY_AGG(STRUCT(comp.name AS company_name, comp.domain AS company_domain, comp.country_code AS company_country, d.financing_type, FORMAT_TIMESTAMP('%Y-%m-%d', d.date) AS deal_date) ORDER BY d.date DESC LIMIT 10) AS examples\nFROM institutional_investments ii\nJOIN deals d ON ii.deal_id = d.id\nJOIN organizations comp ON d.organization_id = comp.id AND comp.is_investor = FALSE\nJOIN organizations inv ON ii.organization_id = inv.id AND inv.is_investor = TRUE\nWHERE EXTRACT(YEAR FROM d.date) = 2025\n  AND LOWER(inv.country_code) = 'united states'\n  AND LOWER(comp.country_code) IN (\n    'china','india','japan','south korea','singapore','hong kong','taiwan','indonesia','malaysia','philippines','vietnam','thailand','pakistan','bangladesh','israel','saudi arabia','united arab emirates','turkey','kazakhstan','sri lanka','nepal','myanmar','cambodia','laos','mongolia','macao','bahrain','jordan','lebanon','kuwait','oman','qatar','azerbaijan','uzbekistan','kyrgyzstan','tajikistan','iran','iraq','yemen','armenia','georgia'\n  )\n  AND inv.id IN ('4241d61a-6ae2-44a5-9783-662fed8010d6','b8926b35-ef63-43b6-8299-0f508c7f3a59')\nGROUP BY inv.id, inv.name, inv.domain\nORDER BY inv.name;\n"
      ],
      "expected_path": "Identify Asian country codes by looking at unique county codes, after getting that list. Then join institutional_investments to find deals, filter WHERE organization_id IN (subquery to organizations with discovered asian country codes) AND is_investor = TRUE and country_code = 'United States'. GROUP BY organization_id and name, COUNT deals. ORDER BY count DESC, LIMIT 20."
    },
    {
      "test_id": 7,
      "question": "Find founder teams where 3+ founders previously worked together at the same company at the same time. Return all companies that were funded in 2025 that have this.",
      "grade": "partial",
      "reasoning": "Overall the agent used a sound, defensible approach and produced meaningful results, but there are issues that prevent a full pass. Strengths: the agent correctly filtered deals to 2025, pulled founders via organization_associations, used linkedin_positions to build employment intervals, and implemented the expected 3-way overlap logic (GREATEST/LEAST or equivalent) and deduplication via person_id ordering. Their SQL variants demonstrate understanding of alternative strategies (boundary-date aggregation and explicit triple-join) and they returned founder metadata (LinkedIn URLs, emails) and an aggregate count (58 companies). Weaknesses: 1) Potential false positives — none of the queries explicitly exclude positions at the target startup (i.e., the linkedin_company_id for a founder position could be the startup itself). The sample output even shows entries where the “previous employer” equals the startup, which suggests the agent may have counted current/target-company positions as prior co-employment rather than true prior employers. That can materially inflate/contaminate results. 2) Partial delivery — the agent returned the first 20 of 58 companies and offered to export the full list, rather than delivering the full set inline as the question requested. 3) Efficiency — the agent used 7 tool calls vs the expected ≤4; this is not fatal but indicates some iterative trial-and-error. Given the correct methodology and substantial progress, but with the important caveat about excluding the target org from prior-employer matches and incomplete output, a \"partial\" grade is appropriate.",
      "tools_called_num": 7,
      "tools_called_expected": 4,
      "answer": "I found 58 companies (funded in 2025) whose founder teams include at least three founders who previously worked together at the same employer with an overlapping employment period.\n\nMethod (brief)\n- I looked at companies that had at least one funding deal in 2025.  \n- For each company I pulled the people marked as founders (organization_associations.is_founder = TRUE).  \n- I used linkedin_positions (LinkedIn work history) to find prior employers where 3+ of those founders had employment intervals that overlapped (i.e., there existed a time period when all three were employed at the same company). I required a start_date on the position to compute overlaps.  \n- Results show the target company (the one funded in 2025), the prior employer where founders overlapped, the overlap start/end, and the trio of founder names (with LinkedIn and any email present in the dataset).\n\nTotal matches\n- 58 distinct companies (funded in 2025) meet the “3+ founders worked together at same company at same time” criterion.\n\nFirst 20 example results (company — domain — prior employer — overlap period — founders [LinkedIn / email if available]):\n\n1) 406 Energy — 406energy.com — previous employer: 406 Energy — overlap 2025-08-01 → 9999-12-31  \n   - Tom Kastens — https://www.linkedin.com/in/tom-kastens-599874166/  \n   - Josh Sigler — https://www.linkedin.com/in/josh-sigler/  \n   - Mark Graeve — https://www.linkedin.com/in/mark-graeve-9a3a181a/\n\n2) 406 Energy — 406energy.com — previous employer: XCL Resources — overlap 2018-09-01 → 2022-05-01  \n   - Tom Kastens — https://www.linkedin.com/in/tom-kastens-599874166/  \n   - Josh Sigler — https://www.linkedin.com/in/josh-sigler/  \n   - Mark Graeve — https://www.linkedin.com/in/mark-graeve-9a3a181a/\n\n3) AIRNA — airna.com — previous employer: AIRNA — overlap examples include 2025-03-01 → 9999-12-31 (and several earlier windows)  \n   - Tobias Merkle — https://www.linkedin.com/in/tobias-merkle/  \n   - Thorsten Stafforst — https://www.linkedin.com/in/thorsten-stafforst-652309225/  \n   - Paul Vogel — https://www.linkedin.com/in/paul-vogel-469579195/ — paul.vogel@airna.com\n\n4) Adam — adam.new — previous employer: Adam (YC W25) — overlap 2024-12-01 → 2025-08-01  \n   - Zach Dive — https://www.linkedin.com/in/zacharydive/  \n   - Avi Peltz — https://www.linkedin.com/in/avipeltz/  \n   - Aaron Li — https://www.linkedin.com/in/aaronlico/\n\n5) Alt Mobility — alt-mobility.com — previous employer: AltMobility — overlap 2021-03-01 → (ongoing)  \n   - Anuj Gupta — https://www.linkedin.com/in/anujgupta2408/ — anuj@alt-mobility.com  \n   - Dev Arora — https://www.linkedin.com/in/devarora/ — dev@alt-mobility.com  \n   - Manas Arora — https://www.linkedin.com/in/manasdarora/ — manas@alt-mobility.com\n\n6) Arthos — getmozart.ai — previous employer: Arthos — overlap 2025-07-01 → (ongoing)  \n   - Sundar Arvind — https://www.linkedin.com/in/sundar-arvind/  \n   - Immanuel Rajadurai — https://www.linkedin.com/in/immanuel-rajadurai-47808a217/  \n   - Arjun Khanna — https://www.linkedin.com/in/arjun-khanna-771329207/\n\n7) Avelios Medical — avelios.com — previous employer: Avelios Medical — overlap 2020-09-01 → (ongoing)  \n   - Sebastian Krammer — https://www.linkedin.com/in/dr-sebastian-krammer-527349186/  \n   - Nicolas Jakob — https://www.linkedin.com/in/nicolas-jakob-143332a4/  \n   - Christian Albrecht — https://www.linkedin.com/in/christian-albrecht-b2708873/\n\n8) Biocentis — biocentis.com — previous employer: Biocentis — overlap 2022-02-01 → (ongoing)  \n   - Andrew Hammond — https://www.linkedin.com/in/andrew-hammond-phd/  \n   - Kyros Kyrou — https://www.linkedin.com/in/kyroskyrou/  \n   - Federico Guelpa — https://www.linkedin.com/in/federico-guelpa/\n\n9) Blazpay — blazpay.com — previous employer: Blazpay — overlap 2024-04-01 → (ongoing)  \n   - Baldeep singh Sethi — https://www.linkedin.com/in/baldeep-singh-sethi-4537b5295/  \n   - Shubham Bisht — https://www.linkedin.com/in/bishtji/  \n   - Rishabh Singh Bhatti — https://www.linkedin.com/in/rishabh-singh-bhatti-57880b208/\n\n10) Brellium — brellium.com — previous employer: Brellium — overlap 2022-06-01 → (ongoing)  \n    - Zach Rosen — https://www.linkedin.com/in/zach-rosen-b74798112/  \n    - Max Katzman — https://www.linkedin.com/in/max-katzman/ — max@brellium.com  \n    - Henry Kasa — https://www.linkedin.com/in/henry-kasa-1889561b6/ — henry@brellium.com\n\n11) CYNiO — cynio.net — previous employer: CYNiO — overlap 2024-01-01 → (ongoing)  \n    - Marlene Baumhardt — https://www.linkedin.com/in/marlene-b-a8a4b0229/  \n    - Michele Tille — https://www.linkedin.com/in/mich%C3%A9le-tille/  \n    - Sophie Riedel — https://www.linkedin.com/in/sophie-riedel-aa275818a/\n\n12) Catalogus — catalogus.ai — previous employer: ANS Commerce — overlap 2019-07-01 → 2019-09-01  \n    - Himanshu Dikshit — https://www.linkedin.com/in/himanshud09/ — himanshu@catalogus.in  \n    - Vipin Singh — https://www.linkedin.com/in/vipin-singh-5b10b2117/ — vipin@catalogus.in  \n    - Ankit Samria — https://www.linkedin.com/in/ankitsamria/ — ankit@catalogus.in\n\n13) Caseflood.ai — caseflood.ai (YC W25) — previous employer: Caseflood.ai — overlap 2024-11-01 → (ongoing)  \n    - Tolen Schreid — https://www.linkedin.com/in/tolen-schreid/  \n    - Ayushman Srivastava — https://www.linkedin.com/in/ayushman28/  \n    - Ethan Hilton — https://www.linkedin.com/in/ethan-hilton/\n\n14) Clutch Security — clutch.security — previous employer: Clutch Security — overlap 2023-12-01 → (ongoing)  \n    - Ofir Har Chen — https://www.linkedin.com/in/ofirhc/ — ofir@clutch.security  \n    - Tal Kimhi — https://www.linkedin.com/in/tal-kimhi/ — tal@clutch.security  \n    - Sagi Haas — https://www.linkedin.com/in/sagihaas/ — sagi@clutch.security\n\n15) Commit Biologics — commitbio.com — previous employer: Commit Biologics — overlap 2021-09-01 → (ongoing)  \n    - Dennis Pedersen — https://www.linkedin.com/in/dennis-pedersen-42769640/  \n    - Nick S. Larsen — https://www.linkedin.com/in/nick-stub-laursen-04703993/  \n    - Heidi Gytz Olesen — https://www.linkedin.com/in/heidigytz/\n\n16) EF Polymer — efpolymer.com — previous employer: EF Polymer Private Limited — overlap examples include 2017–2023 windows  \n    - Ankit Jain — https://www.linkedin.com/in/ankit-jain-3a0033143/  \n    - Puran Singh Rajput — https://www.linkedin.com/in/puransinghrajput/  \n    - Narayan Lal Gurjar — https://www.linkedin.com/in/narayan-lal-gurjar-88a533141/\n\n17) Endra — endra.ai — previous employer: Endra — overlap 2024-12-01 → (ongoing)  \n    - David Rydberg — https://www.linkedin.com/in/dryd/  \n    - Anton Juric — https://www.linkedin.com/in/antonjuric/  \n    - Niklas Lindgren — https://www.linkedin.com/in/niklas-lindgren-33804a1ab/\n\n18) Faba — myfaba.es — previous employer: FABA / Maikii (multiple overlap windows)  \n    - Alessio Polo — https://www.linkedin.com/in/alessio-polo/  \n    - Francesco Poloniato — https://www.linkedin.com/in/francesco-poloniato-57079566/  \n    - Chiara Gava — https://www.linkedin.com/in/chiaragava/\n\n19) FenX — fenx.ch — previous employer: FenX — overlap examples include 2019–2024 and ongoing  \n    - Michele Zanini — https://www.linkedin.com/in/michele-zanini/ — michele.zanini@fenx.ch  \n    - Etienne Jeoffroy — https://www.linkedin.com/in/etienne-jeoffroy/ — etienne.jeoffroy@fenx.ch  \n    - Enrico Scoccimarro — https://www.linkedin.com/in/enricoscoccimarro/ — enrico.scoccimarro@fenx.ch\n\n20) Finarkein Analytics — finarkein.com — previous employer: Finarkein Analytics — overlap 2022-02-01 → (ongoing)  \n    - Shrirang Kshatriya — https://www.linkedin.com/in/shrirang-kshatriya-b665b514/ — shrirang@finarkein.com  \n    - Pradip Waghmare — https://www.linkedin.com/in/pradipwaghmare/ — pradip@finarkein.com  \n    - Aakash Agrawal — https://www.linkedin.com/in/aakashnagrawal/ — aakash.agrawal@finarkein.com\n\n(These are the first 20 of 58 companies found. Several companies have multiple prior-employer overlap windows — I returned the windows where a trio overlap is present.)\n\nWould you like me to:\n- Export the full list (all 58 companies) as a CSV or Google Sheet including: company id/name/domain, prior employer (linkedin_company id + name), overlap start/end, and founder names + LinkedIn + email? (I recommend CSV for downstream work.)  \n- Restrict to only US-based target companies, or to only founder teams where the overlap window includes a specific year range?  \n- Show only unique target companies (one row per company) collapsing multiple prior-employers/windows to the best/most recent overlap?\n\nWhich output format do you prefer (CSV, Google Sheet, or paste full list here)?",
      "expected_answer": "Results — for each company: (startup name — startup_id)\n- 406 Energy — e97b2ed2-6003-4717-b779-71a83868a4d3\n  • Prior employer: XCL Resources (linkedin id: xcl-resources)\n  • Founders who overlapped: Josh Sigler, Mark Graeve, Tom Kastens\n  • Overlap: 2018-09-01 → 2022-05-01\n\n- Catalogus — fb0a4be8-a8a1-45c9-a4e4-598b03472c4e\n  • Prior employer: ANS Commerce (anscommerce)\n  • Founders: Ankit Samria, Himanshu Dikshit, Vipin Singh\n  • Overlap: 2019-07-01 → 2019-09-01\n\n- Factor2 Energy — 79f58eb3-9f1b-4fbb-b673-cb4736e6ebe4\n  • Prior employer: Siemens (siemens)\n  • Founders: Felix Böhmer, Jörg Strohschein, Michael Wechsung\n  • Overlap examples: 2014-09-01 → 2016-06-01 and 2016-06-01 → 2017-09-01\n\n- Outfindo — 4d21dc9e-4033-414b-8288-cb05f1485d10\n  • Prior employer: foodora (foodora)\n  • Founders: Jan Mateju, Martin Chrz, Ondrej Bouda\n  • Overlap: 2016-05-01 → 2018-12-01\n\n- Peec AI — 43943b03-cbdc-489e-814b-807386ba8684\n  • Prior employer: Amazon (amazon)\n  • Founders: Gabriel Drabo, Marius Meiners, Tobias Siwonia\n  • Overlap: 2024-10-01 → 2024-12-01\n\n- Pipeshift — 91092a39-3395-4f30-a935-01288b80a016\n  • Prior employers: Amigo (youramigoapp) and Hult Prize Foundation (hult-prize-foundation)\n  • Founders: Arko Chattopadhyay, Enrique Ferrao, Pranav Reddy\n  • Overlaps: 2021-06-01 → 2022-12-01 (Amigo); 2022-06-01 → 2022-08-01 (Hult Prize)\n\n- Runnr.ai — 3cd51042-0d3f-40bf-b8cd-601cbf1e4abf\n  • Prior employer: Booking.com (booking.com)\n  • Founders: Maarten Fugers, Michiel de Vor, Steven Oliemans\n  • Multiple overlapping windows across 2011–2016 and 2013–2015\n\n- Swish — 4057c6f1-816e-492e-ad79-95041eb99550\n  • Prior employer: Pillow - DeFi For Everyone (pillowfund)\n  • Founders: Aniket Shah, Saran S, Ujjwal Sukheja\n  • Overlaps: 2022-01-01 → 2022-03-01\n\n- Swapp — ae6-7bfd-4b9f-8639-37e20c95fd66\n  • Prior employer: Peak Games (peak)\n  • Founders: Berk Yaşar, Emre Yanık, Simay Kahraman\n  • Overlaps: 2019-11-01 → 2022-01-01; 2022-01-01 → 2022-10-01\n\n- VyomIC — a623bd14-6574-4d21-86c6-5bce553c6c88\n  • Prior employer: Avishkar Hyperloop (avishkarhyperloop)\n  • Founders: Anurag Patil, Lokesh Kabdal, Vibhor Jain\n  • Overlap: 2021-08-01 → 2022-08-01",
      "sql_queries": [
        "WITH companies_2025 AS (\n  SELECT DISTINCT o.id, o.name, o.domain\n  FROM organizations o\n  JOIN deals d ON d.organization_id = o.id\n  WHERE o.is_investor = FALSE\n    AND EXTRACT(YEAR FROM d.date) = 2025\n),\nfounders AS (\n  SELECT oa.organization_id, oa.person_id\n  FROM organization_associations oa\n  WHERE oa.is_founder = TRUE\n    AND oa.organization_id IN (SELECT id FROM companies_2025)\n),\npositions AS (\n  SELECT f.organization_id, lp.person_id, lp.linkedin_company_id,\n         lp.start_date, COALESCE(lp.end_date, TIMESTAMP('9999-12-31')) AS end_date\n  FROM founders f\n  JOIN linkedin_positions lp ON lp.person_id = f.person_id\n  WHERE lp.start_date IS NOT NULL\n    AND lp.linkedin_company_id IS NOT NULL\n),\nintervals AS (\n  SELECT\n    organization_id,\n    linkedin_company_id,\n    ARRAY_AGG(STRUCT(person_id, DATE(start_date) AS sdate, DATE(end_date) AS edate)) AS interval_list,\n    ARRAY_CONCAT(ARRAY_AGG(DATE(start_date)), ARRAY_AGG(DATE(end_date))) AS date_list\n  FROM positions\n  GROUP BY organization_id, linkedin_company_id\n),\noverlaps AS (\n  SELECT\n    i.organization_id,\n    i.linkedin_company_id,\n    d AS boundary_date,\n    (\n      SELECT COUNT(DISTINCT it.person_id) FROM UNNEST(i.interval_list) it WHERE it.sdate <= d AND it.edate >= d\n    ) AS overlapping_founders,\n    (\n      SELECT ARRAY_AGG(DISTINCT it.person_id) FROM UNNEST(i.interval_list) it WHERE it.sdate <= d AND it.edate >= d\n    ) AS overlapping_person_ids\n  FROM intervals i, UNNEST(i.date_list) AS d\n  QUALIFY ROW_NUMBER() OVER (PARTITION BY i.organization_id, i.linkedin_company_id ORDER BY overlapping_founders DESC, d ASC) = 1\n)\nSELECT\n  c.id AS company_id,\n  c.name AS company_name,\n  c.domain,\n  lc.company_name AS previous_employer_name,\n  FORMAT_DATE('%Y-%m-%d', boundary_date) AS overlap_date,\n  overlapping_founders,\n  (SELECT ARRAY_AGG(STRUCT(p.name, p.linkedin_person_url, p.email) ORDER BY p.name) FROM people p WHERE p.id IN UNNEST(overlapping_person_ids)) AS founders\nFROM overlaps o\nJOIN organizations c ON c.id = o.organization_id\nLEFT JOIN linkedin_company lc ON lc.id = o.linkedin_company_id\nWHERE overlapping_founders >= 3\nORDER BY c.name;\n",
        "WITH companies_2025 AS (\n  SELECT DISTINCT o.id, o.name, o.domain\n  FROM organizations o\n  JOIN deals d ON d.organization_id = o.id\n  WHERE o.is_investor = FALSE\n    AND EXTRACT(YEAR FROM d.date) = 2025\n),\nfounders AS (\n  SELECT oa.organization_id, oa.person_id\n  FROM organization_associations oa\n  WHERE oa.is_founder = TRUE\n    AND oa.organization_id IN (SELECT id FROM companies_2025)\n),\npositions AS (\n  SELECT f.organization_id, lp.person_id, lp.linkedin_company_id,\n         lp.start_date, COALESCE(lp.end_date, TIMESTAMP('9999-12-31')) AS end_date\n  FROM founders f\n  JOIN linkedin_positions lp ON lp.person_id = f.person_id\n  WHERE lp.start_date IS NOT NULL\n    AND lp.linkedin_company_id IS NOT NULL\n),\nintervals AS (\n  SELECT\n    organization_id,\n    linkedin_company_id,\n    ARRAY_AGG(STRUCT(person_id, DATE(start_date) AS sdate, DATE(end_date) AS edate)) AS interval_list,\n    ARRAY_CONCAT(ARRAY_AGG(DATE(start_date)), ARRAY_AGG(DATE(end_date))) AS date_list\n  FROM positions\n  GROUP BY organization_id, linkedin_company_id\n),\noverlaps AS (\n  SELECT\n    i.organization_id,\n    i.linkedin_company_id,\n    d AS boundary_date,\n    (\n      SELECT COUNT(DISTINCT it.person_id) FROM UNNEST(i.interval_list) it WHERE it.sdate <= d AND it.edate >= d\n    ) AS overlapping_founders,\n    (\n      SELECT ARRAY_AGG(DISTINCT it.person_id) FROM UNNEST(i.interval_list) it WHERE it.sdate <= d AND it.edate >= d\n    ) AS overlapping_person_ids\n  FROM intervals i\n  CROSS JOIN UNNEST(i.date_list) AS d\n  QUALIFY ROW_NUMBER() OVER (PARTITION BY i.organization_id, i.linkedin_company_id ORDER BY overlapping_founders DESC, d ASC) = 1\n)\nSELECT\n  c.id AS company_id,\n  c.name AS company_name,\n  c.domain,\n  lc.company_name AS previous_employer_name,\n  FORMAT_DATE('%Y-%m-%d', boundary_date) AS overlap_date,\n  overlapping_founders,\n  (SELECT ARRAY_AGG(STRUCT(p.name, p.linkedin_person_url, p.email) ORDER BY p.name) FROM people p WHERE p.id IN UNNEST(overlapping_person_ids)) AS founders\nFROM overlaps o\nJOIN organizations c ON c.id = o.organization_id\nLEFT JOIN linkedin_company lc ON lc.id = o.linkedin_company_id\nWHERE overlapping_founders >= 3\nORDER BY c.name;\n",
        "WITH companies_2025 AS (\n  SELECT DISTINCT o.id, o.name, o.domain\n  FROM organizations o\n  JOIN deals d ON d.organization_id = o.id\n  WHERE o.is_investor = FALSE\n    AND EXTRACT(YEAR FROM d.date) = 2025\n),\nfounders AS (\n  SELECT oa.organization_id, oa.person_id\n  FROM organization_associations oa\n  WHERE oa.is_founder = TRUE\n    AND oa.organization_id IN (SELECT id FROM companies_2025)\n),\npositions AS (\n  SELECT f.organization_id, lp.person_id, lp.linkedin_company_id,\n         lp.start_date, COALESCE(lp.end_date, TIMESTAMP('9999-12-31')) AS end_date\n  FROM founders f\n  JOIN linkedin_positions lp ON lp.person_id = f.person_id\n  WHERE lp.start_date IS NOT NULL\n    AND lp.linkedin_company_id IS NOT NULL\n)\nSELECT DISTINCT\n  p1.organization_id AS company_id,\n  c.name AS company_name,\n  c.domain AS company_domain,\n  p1.linkedin_company_id AS previous_employer_id,\n  lc.company_name AS previous_employer_name,\n  FORMAT_TIMESTAMP('%Y-%m-%d', GREATEST(p1.start_date, p2.start_date, p3.start_date)) AS overlap_start,\n  FORMAT_TIMESTAMP('%Y-%m-%d', LEAST(p1.end_date, p2.end_date, p3.end_date)) AS overlap_end,\n  (SELECT ARRAY_AGG(STRUCT(pp.name, pp.linkedin_person_url, pp.email) ORDER BY pp.name)\n     FROM people pp\n     WHERE pp.id IN (p1.person_id, p2.person_id, p3.person_id)\n  ) AS founders\nFROM positions p1\nJOIN positions p2 ON p1.organization_id = p2.organization_id\n  AND p1.linkedin_company_id = p2.linkedin_company_id\n  AND p1.person_id < p2.person_id\nJOIN positions p3 ON p1.organization_id = p3.organization_id\n  AND p1.linkedin_company_id = p3.linkedin_company_id\n  AND p2.person_id < p3.person_id\nJOIN organizations c ON c.id = p1.organization_id\nLEFT JOIN linkedin_company lc ON lc.id = p1.linkedin_company_id\nWHERE TIMESTAMP_GREATEST(p1.start_date, p2.start_date, p3.start_date) <= TIMESTAMP_LEAST(p1.end_date, p2.end_date, p3.end_date)\nORDER BY c.name;\n",
        "WITH companies_2025 AS (\n  SELECT DISTINCT o.id, o.name, o.domain\n  FROM organizations o\n  JOIN deals d ON d.organization_id = o.id\n  WHERE o.is_investor = FALSE\n    AND EXTRACT(YEAR FROM d.date) = 2025\n),\nfounders AS (\n  SELECT oa.organization_id, oa.person_id\n  FROM organization_associations oa\n  WHERE oa.is_founder = TRUE\n    AND oa.organization_id IN (SELECT id FROM companies_2025)\n),\npositions AS (\n  SELECT f.organization_id, lp.person_id, lp.linkedin_company_id,\n         lp.start_date, COALESCE(lp.end_date, TIMESTAMP('9999-12-31')) AS end_date\n  FROM founders f\n  JOIN linkedin_positions lp ON lp.person_id = f.person_id\n  WHERE lp.start_date IS NOT NULL\n    AND lp.linkedin_company_id IS NOT NULL\n)\nSELECT DISTINCT\n  p1.organization_id AS company_id,\n  c.name AS company_name,\n  c.domain AS company_domain,\n  p1.linkedin_company_id AS previous_employer_id,\n  lc.company_name AS previous_employer_name,\n  FORMAT_TIMESTAMP('%Y-%m-%d', GREATEST(p1.start_date, p2.start_date, p3.start_date)) AS overlap_start,\n  FORMAT_TIMESTAMP('%Y-%m-%d', LEAST(p1.end_date, p2.end_date, p3.end_date)) AS overlap_end,\n  (SELECT ARRAY_AGG(STRUCT(pp.name, pp.linkedin_person_url, pp.email) ORDER BY pp.name)\n     FROM people pp\n     WHERE pp.id IN (p1.person_id, p2.person_id, p3.person_id)\n  ) AS founders\nFROM positions p1\nJOIN positions p2 ON p1.organization_id = p2.organization_id\n  AND p1.linkedin_company_id = p2.linkedin_company_id\n  AND p1.person_id < p2.person_id\nJOIN positions p3 ON p1.organization_id = p3.organization_id\n  AND p1.linkedin_company_id = p3.linkedin_company_id\n  AND p2.person_id < p3.person_id\nJOIN organizations c ON c.id = p1.organization_id\nLEFT JOIN linkedin_company lc ON lc.id = p1.linkedin_company_id\nWHERE GREATEST(p1.start_date, p2.start_date, p3.start_date) <= LEAST(p1.end_date, p2.end_date, p3.end_date)\nORDER BY c.name;\n",
        "WITH companies_2025 AS (\n  SELECT DISTINCT o.id, o.name, o.domain\n  FROM organizations o\n  JOIN deals d ON d.organization_id = o.id\n  WHERE o.is_investor = FALSE\n    AND EXTRACT(YEAR FROM d.date) = 2025\n),\nfounders AS (\n  SELECT oa.organization_id, oa.person_id\n  FROM organization_associations oa\n  WHERE oa.is_founder = TRUE\n    AND oa.organization_id IN (SELECT id FROM companies_2025)\n),\npositions AS (\n  SELECT f.organization_id, lp.person_id, lp.linkedin_company_id,\n         lp.start_date, COALESCE(lp.end_date, TIMESTAMP('9999-12-31')) AS end_date\n  FROM founders f\n  JOIN linkedin_positions lp ON lp.person_id = f.person_id\n  WHERE lp.start_date IS NOT NULL\n    AND lp.linkedin_company_id IS NOT NULL\n)\nSELECT DISTINCT\n  p1.organization_id AS company_id,\n  c.name AS company_name,\n  c.domain AS company_domain,\n  p1.linkedin_company_id AS previous_employer_id,\n  lc.company_name AS previous_employer_name,\n  FORMAT_TIMESTAMP('%Y-%m-%d', GREATEST(p1.start_date, p2.start_date, p3.start_date)) AS overlap_start,\n  FORMAT_TIMESTAMP('%Y-%m-%d', LEAST(p1.end_date, p2.end_date, p3.end_date)) AS overlap_end,\n  ARRAY_CONCAT(\n    ARRAY_CONCAT(\n      [STRUCT(ppa.name AS name, ppa.linkedin_person_url AS linkedin, ppa.email AS email)],\n      [STRUCT(ppb.name AS name, ppb.linkedin_person_url AS linkedin, ppb.email AS email)]\n    ),\n    [STRUCT(ppc.name AS name, ppc.linkedin_person_url AS linkedin, ppc.email AS email)]\n  ) AS founders\nFROM positions p1\nJOIN positions p2 ON p1.organization_id = p2.organization_id\n  AND p1.linkedin_company_id = p2.linkedin_company_id\n  AND p1.person_id < p2.person_id\nJOIN positions p3 ON p1.organization_id = p3.organization_id\n  AND p1.linkedin_company_id = p3.linkedin_company_id\n  AND p2.person_id < p3.person_id\nJOIN organizations c ON c.id = p1.organization_id\nLEFT JOIN linkedin_company lc ON lc.id = p1.linkedin_company_id\nJOIN people ppa ON ppa.id = p1.person_id\nJOIN people ppb ON ppb.id = p2.person_id\nJOIN people ppc ON ppc.id = p3.person_id\nWHERE GREATEST(p1.start_date, p2.start_date, p3.start_date) <= LEAST(p1.end_date, p2.end_date, p3.end_date)\nORDER BY c.name;\n",
        "WITH companies_2025 AS (\n  SELECT DISTINCT o.id\n  FROM organizations o\n  JOIN deals d ON d.organization_id = o.id\n  WHERE o.is_investor = FALSE\n    AND EXTRACT(YEAR FROM d.date) = 2025\n),\nfounders AS (\n  SELECT oa.organization_id, oa.person_id\n  FROM organization_associations oa\n  WHERE oa.is_founder = TRUE\n    AND oa.organization_id IN (SELECT id FROM companies_2025)\n),\npositions AS (\n  SELECT f.organization_id, lp.person_id, lp.linkedin_company_id,\n         lp.start_date, COALESCE(lp.end_date, TIMESTAMP('9999-12-31')) AS end_date\n  FROM founders f\n  JOIN linkedin_positions lp ON lp.person_id = f.person_id\n  WHERE lp.start_date IS NOT NULL\n    AND lp.linkedin_company_id IS NOT NULL\n)\nSELECT COUNT(DISTINCT p1.organization_id) AS companies_with_trio\nFROM positions p1\nJOIN positions p2 ON p1.organization_id = p2.organization_id\n  AND p1.linkedin_company_id = p2.linkedin_company_id\n  AND p1.person_id < p2.person_id\nJOIN positions p3 ON p1.organization_id = p3.organization_id\n  AND p1.linkedin_company_id = p3.linkedin_company_id\n  AND p2.person_id < p3.person_id\nWHERE GREATEST(p1.start_date, p2.start_date, p3.start_date) <= LEAST(p1.end_date, p2.end_date, p3.end_date);\n",
        "WITH companies_2025 AS (\n  SELECT DISTINCT o.id, o.name, o.domain\n  FROM organizations o\n  JOIN deals d ON d.organization_id = o.id\n  WHERE o.is_investor = FALSE\n    AND EXTRACT(YEAR FROM d.date) = 2025\n),\nfounders AS (\n  SELECT oa.organization_id, oa.person_id\n  FROM organization_associations oa\n  WHERE oa.is_founder = TRUE\n    AND oa.organization_id IN (SELECT id FROM companies_2025)\n),\npositions AS (\n  SELECT f.organization_id, lp.person_id, lp.linkedin_company_id,\n         lp.start_date, COALESCE(lp.end_date, TIMESTAMP('9999-12-31')) AS end_date\n  FROM founders f\n  JOIN linkedin_positions lp ON lp.person_id = f.person_id\n  WHERE lp.start_date IS NOT NULL\n    AND lp.linkedin_company_id IS NOT NULL\n)\nSELECT DISTINCT\n  p1.organization_id AS company_id,\n  c.name AS company_name,\n  c.domain AS company_domain,\n  p1.linkedin_company_id AS previous_employer_id,\n  COALESCE(lc.company_name, p1.linkedin_company_id) AS previous_employer_name,\n  FORMAT_TIMESTAMP('%Y-%m-%d', GREATEST(p1.start_date, p2.start_date, p3.start_date)) AS overlap_start,\n  FORMAT_TIMESTAMP('%Y-%m-%d', LEAST(p1.end_date, p2.end_date, p3.end_date)) AS overlap_end,\n  ARRAY_CONCAT(\n    ARRAY_CONCAT(\n      [STRUCT(ppa.name AS name, ppa.linkedin_person_url AS linkedin, ppa.email AS email)],\n      [STRUCT(ppb.name AS name, ppb.linkedin_person_url AS linkedin, ppb.email AS email)]\n    ),\n    [STRUCT(ppc.name AS name, ppc.linkedin_person_url AS linkedin, ppc.email AS email)]\n  ) AS founders\nFROM positions p1\nJOIN positions p2 ON p1.organization_id = p2.organization_id\n  AND p1.linkedin_company_id = p2.linkedin_company_id\n  AND p1.person_id < p2.person_id\nJOIN positions p3 ON p1.organization_id = p3.organization_id\n  AND p1.linkedin_company_id = p3.linkedin_company_id\n  AND p2.person_id < p3.person_id\nJOIN organizations c ON c.id = p1.organization_id\nLEFT JOIN linkedin_company lc ON lc.id = p1.linkedin_company_id\nJOIN people ppa ON ppa.id = p1.person_id\nJOIN people ppb ON ppb.id = p2.person_id\nJOIN people ppc ON ppc.id = p3.person_id\nWHERE GREATEST(p1.start_date, p2.start_date, p3.start_date) <= LEAST(p1.end_date, p2.end_date, p3.end_date)\nORDER BY c.name\nLIMIT 20;"
      ],
      "expected_path": "Filter deals WHERE EXTRACT(YEAR FROM date) = 2025 to get funded companies. Join to organization_associations WHERE is_founder = TRUE to get founders. Join to linkedin_positions for each founder to get work history. Self-join linkedin_positions three ways (p1, p2, p3) WHERE p1.linkedin_company_id = p2.linkedin_company_id = p3.linkedin_company_id AND p1.person_id < p2.person_id < p3.person_id (avoids duplicate triples). Calculate overlap window: GREATEST(p1.start_date, p2.start_date, p3.start_date) <= LEAST(p1.end_date, p2.end_date, p3.end_date). Join to organizations and linkedin_company for names. Return startup name, startup_id, prior employer, founders who overlapped, overlap period."
    },
    {
      "test_id": 8,
      "question": "Find company with most secondary market transactions and show which investors bought secondary shares",
      "grade": "pass",
      "reasoning": "Overall the agent followed a sound, defensible approach and produced a correct, well-explained answer. They filtered deals by financing_type = 'SECONDARY_MARKET', grouped by company to find the top organization, joined through institutional_investments to list investors, and used aggregation (STRING_AGG/CONCAT/ DISTINCT) to avoid cartesian-product duplication — exactly the expected methodology. The output identifies OpenAI as the company with the most secondary-market transactions (3) and provides a per-deal breakdown plus an aggregated investor participation summary (with lead investor flags and domains), and includes useful caveats about amounts and data completeness. \n\nThere is a small efficiency issue: the agent made four data calls (including two very similar queries) when the task could likely be completed in 1–2 queries; Query2 and Query3 appear redundant. This is a minor inefficiency but does not materially affect correctness. SQL syntax/aggregation choices varied across queries (one looked like a trial then a corrected version), but the final consolidated results are coherent and defensible. \n\nGiven accurate filtering, correct joins and aggregations, clear presentation of results, and only minor inefficiency, the agent should be graded pass.",
      "tools_called_num": 4,
      "tools_called_expected": 2,
      "answer": "Short answer\n- Company with the most secondary-market transactions: OpenAI (openai.com) — 3 secondary deals in the dataset.\n- Who bought secondary shares: Thrive Capital (participated in all 3), plus MGX; T. Rowe Price Associates; SoftBank; Dragoneer; Andreessen Horowitz; Founders Fund; K2 Global; Sequoia Capital (each participated in one or more secondary deals).\n\nDetailed results\n\n1) Company: OpenAI (organization id = 97ae048e-77bc-471b-821a-f9decb373689)  \nTotal secondary-market deals (dataset): 3\n\nPer-secondary-deal breakdown\n- Deal id: 5c345010-8e11-4afa-bd38-46130c66da59  \n  - Date: 2025-10-02  \n  - Size: 6,600.0 (dataset units = MILLIONS → $6,600M = $6.6B)  \n  - Investors who bought secondary shares (from institutional_investments): MGX (mgx.ae), T. Rowe Price Associates (troweprice.com), SoftBank (group.softbank), Dragoneer Investment Group (dragoneer.com), Thrive Capital (thrivecap.com)\n\n- Deal id: d474279d-b060-41b3-8864-eb3c7b3e5231  \n  - Date: 2024-02-16  \n  - Size: 0.0 (dataset shows 0 — likely undisclosed or special entry)  \n  - Investors: Thrive Capital (thrivecap.com) — flagged as lead investor in dataset\n\n- Deal id: b525e577-cef6-400b-b9ad-8b8a4e382c84  \n  - Date: 2023-04-28  \n  - Size: 300.0 → $300M  \n  - Investors: Andreessen Horowitz (a16z.com), Founders Fund (foundersfund.com), Sequoia Capital (sequoiacap.com), K2 Global (k2global.co), Thrive Capital (thrivecap.com)\n\nAggregated investor participation (across OpenAI secondary deals)\n- Thrive Capital — participated in 3 secondary deals (lead in 1) — domain: thrivecap.com  \n- Andreessen Horowitz — 1 deal — a16z.com  \n- Dragoneer Investment Group — 1 deal — dragoneer.com  \n- Founders Fund — 1 deal — foundersfund.com  \n- K2 Global — 1 deal — k2global.co  \n- MGX — 1 deal — mgx.ae  \n- Sequoia Capital — 1 deal — sequoiacap.com  \n- SoftBank — 1 deal — group.softbank  \n- T. Rowe Price Associates — 1 deal — troweprice.com\n\nNotes & caveats\n- Monetary values in Fundable are stored in MILLIONS; I show both the raw dataset number and the $M interpretation in the text above.  \n- One secondary record shows size = 0.0 (common in datasets when amount undisclosed or recorded elsewhere); investigators should check the canonical_deal_id articles for press details.  \n- Investor participation is drawn from institutional_investments (investor ↔ deal junction). If you want the actual purchase amounts by investor (if recorded), we can try to extract those — but many secondary purchases in the dataset do not show investor-level amount breakdowns.  \n- I can also pull: the canonical_deal article links for each secondary deal, the institutional_investments_person records (specific partners who executed the purchases), or export a CSV with the full rows.\n\nNext steps I can run for you\n- Export full secondary-deal table (all deal fields + investor list + canonical article links) as CSV.  \n- Pull article(s) for each canonical_deal_id so you can read press coverage of the secondaries.  \n- Show the specific investment personnel (institutional_investments_person) who are listed for those secondary rounds.\n\nWhich would you like me to do next?",
      "expected_answer": "OpenAI (openai.com) has 3 secondary deals -  Top investors who bought secondary shares (deal counts): Thrive Capital (3), Founders Fund (1), K2 Global (1), Andreessen Horowitz (1), Dragoneer Investment Group (1), MGX (1), T. Rowe Price Associates (1), Sequoia Capital (1), SoftBank (1)",
      "sql_queries": [
        "SELECT\n  o.id AS company_id,\n  o.name AS company_name,\n  o.domain,\n  COUNT(DISTINCT d.id) AS secondary_deal_count\nFROM deals d\nJOIN organizations o ON d.organization_id = o.id AND o.is_investor = FALSE\nWHERE d.financing_type = 'SECONDARY_MARKET'\nGROUP BY o.id, o.name, o.domain\nORDER BY secondary_deal_count DESC\nLIMIT 1;",
        "SELECT\n  d.id AS deal_id,\n  d.canonical_deal_id,\n  FORMAT_TIMESTAMP('%Y-%m-%d', d.date) AS deal_date,\n  d.size_usd AS size_millions,\n  STRING_AGG(DISTINCT inv.name || ' (' || COALESCE(inv.domain,'no-domain') || ')' ORDER BY inv.name, ', ') AS all_investors,\n  STRING_AGG(DISTINCT CASE WHEN ii.lead_investor = TRUE THEN inv.name END, ', ') AS lead_investors\nFROM deals d\nLEFT JOIN institutional_investments ii ON d.id = ii.deal_id\nLEFT JOIN organizations inv ON ii.organization_id = inv.id AND inv.is_investor = TRUE\nWHERE d.financing_type = 'SECONDARY_MARKET'\n  AND d.organization_id = '97ae048e-77bc-471b-821a-f9decb373689'\nGROUP BY d.id, d.canonical_deal_id, d.date, d.size_usd\nORDER BY d.date DESC;",
        "SELECT\n  d.id AS deal_id,\n  d.canonical_deal_id,\n  FORMAT_TIMESTAMP('%Y-%m-%d', d.date) AS deal_date,\n  d.size_usd AS size_millions,\n  STRING_AGG(DISTINCT CONCAT(inv.name, ' (', COALESCE(inv.domain,'no-domain'), ')') , ', ') AS all_investors,\n  STRING_AGG(DISTINCT CASE WHEN ii.lead_investor = TRUE THEN inv.name ELSE NULL END, ', ') AS lead_investors\nFROM deals d\nLEFT JOIN institutional_investments ii ON d.id = ii.deal_id\nLEFT JOIN organizations inv ON ii.organization_id = inv.id AND inv.is_investor = TRUE\nWHERE d.financing_type = 'SECONDARY_MARKET'\n  AND d.organization_id = '97ae048e-77bc-471b-821a-f9decb373689'\nGROUP BY d.id, d.canonical_deal_id, d.date, d.size_usd\nORDER BY d.date DESC;",
        "SELECT\n  inv.id AS investor_id,\n  inv.name AS investor_name,\n  inv.domain AS investor_domain,\n  COUNT(DISTINCT d.id) AS secondary_deals_participated,\n  COUNT(DISTINCT CASE WHEN ii.lead_investor = TRUE THEN d.id END) AS lead_deal_count\nFROM deals d\nJOIN institutional_investments ii ON d.id = ii.deal_id\nJOIN organizations inv ON ii.organization_id = inv.id AND inv.is_investor = TRUE\nWHERE d.financing_type = 'SECONDARY_MARKET'\n  AND d.organization_id = '97ae048e-77bc-471b-821a-f9decb373689'\nGROUP BY inv.id, inv.name, inv.domain\nORDER BY secondary_deals_participated DESC, inv.name;"
      ],
      "expected_path": "Filter deals WHERE financing_type = 'SECONDARY_MARKET', COUNT(DISTINCT deals.id) grouped by organization_id. REMINDER: SECONDARY_MARKET represents existing shares traded (not new capital raised) but IS included in deal counts. Join to organizations to get company names. For top companies, join deals → institutional_investments → organizations (investor) to get investor names. CRITICAL: Multiple investors per deal creates 1:N - use STRING_AGG or ARRAY_AGG to concatenate investor names without cartesian products. ORDER BY secondary_transaction_count DESC. Return company name, number of secondary transactions, aggregated list of investors, transaction dates."
    },
    {
      "test_id": 9,
      "question": "Which investor has the highest led deal percentage in 2024 while taking part in at least 10 deals in 2024r",
      "grade": "pass",
      "reasoning": "The agent followed the expected approach: it filtered deals to 2024, joined institutional_investments → deals → organizations, grouped by investor, used the lead_investor flag to compute led deals, computed a lead percentage (led deals / distinct deals), applied the >=10 deals HAVING threshold, and ordered by lead percentage. The SQL shown is correct (uses COUNT(DISTINCT) appropriately and the CASE WHEN ii.lead_investor = TRUE THEN ii.deal_id END pattern). The agent returned a sensible result set (top investors with 100% lead rates and volumes), highlighted the single top-by-volume investor (CIBC Innovation Banking — 34/34), and offered useful follow-ups. It was efficient (one tool call). I see no major flaws — only standard caveats about trusting source data labeling (e.g., inv.is_investor and ii.lead_investor must be accurate). Overall the answer is correct, logical, and efficient.",
      "tools_called_num": 1,
      "tools_called_expected": 3,
      "answer": "Short answer\n- Several investors achieved a 100% lead rate in 2024 while participating in at least 10 deals. The top by volume is CIBC Innovation Banking — 34 deals in 2024 and it led all 34 (lead rate = 100%).\n\nTop investors (>=10 deals in 2024, sorted by lead % then deal count)\n1. CIBC Innovation Banking (cibc.com) — 34 deals in 2024, 34 leads — lead rate 100.00%  \n2. Leonid Capital Partners (leonidfinance.io) — 12 deals, 12 leads — lead rate 100.00%  \n3. Decathlon Capital Partners (decathloncapital.com) — 10 deals, 10 leads — lead rate 100.00%  \n4. PeakSpan Capital (peakspancapital.com) — 10 deals, 10 leads — lead rate 100.00%  \n5. Unicorn India Ventures (unicornivc.com) — 10 deals, 10 leads — lead rate 100.00%  \n6. National Science Foundation (nsf.gov) — 19 deals, 18 leads — lead rate 94.74%  \n7. TA Associates (ta.com) — 14 deals, 13 leads — lead rate 92.86%  \n8. Left Lane Capital (leftlanecap.com) — 12 deals, 11 leads — lead rate 91.67%  \n9. Shorooq Partners (shorooq.com) — 12 deals, 11 leads — lead rate 91.67%  \n10. 360 ONE Asset (360.one) — 11 deals, 10 leads — lead rate 90.91%\n\nWould you like me to:\n- Return the full list of deals (deal id, company, financing_type, date) that each of these investors participated in during 2024?  \n- Show only US-based investors or only institutional VCs (exclude government/foundations like NSF)?  \n- Produce a CSV with all investors who met the >=10-deal threshold and their lead rates?",
      "expected_answer": "- CIBC Innovation Banking — 34 deals participated, 34 led (lead rate = 100%), Leonid Capital Partners — 12 deals participated, 12 led (100%) , Decathlon Capital Partners — 10 deals participated, 10 led (100%)  ,PeakSpan Capital — 10 deals participated, 10 led (100%)  ,Unicorn India Ventures — 10 deals participated, 10 led (100%)",
      "sql_queries": [
        "SELECT\n  inv.id AS investor_id,\n  inv.name AS investor_name,\n  inv.domain AS investor_domain,\n  COUNT(DISTINCT ii.deal_id) AS total_deals_2024,\n  COUNT(DISTINCT CASE WHEN ii.lead_investor = TRUE THEN ii.deal_id END) AS lead_deals_2024,\n  ROUND(100.0 * COUNT(DISTINCT CASE WHEN ii.lead_investor = TRUE THEN ii.deal_id END) / COUNT(DISTINCT ii.deal_id), 2) AS lead_pct\nFROM institutional_investments ii\nJOIN deals d ON ii.deal_id = d.id\nJOIN organizations inv ON ii.organization_id = inv.id AND inv.is_investor = TRUE\nWHERE EXTRACT(YEAR FROM d.date) = 2024\nGROUP BY inv.id, inv.name, inv.domain\nHAVING COUNT(DISTINCT ii.deal_id) >= 10\nORDER BY lead_pct DESC, lead_deals_2024 DESC\nLIMIT 10;"
      ],
      "expected_path": "Filter deals WHERE EXTRACT(YEAR FROM date) = 2024. Join institutional_investments → organizations (investor). GROUP BY investor organization_id and name. Calculate: COUNT(DISTINCT CASE WHEN ii.lead_investor = TRUE THEN deals.id END) / COUNT(DISTINCT deals.id) * 100 AS lead_percentage. Filter HAVING COUNT(DISTINCT deals.id) >= 10 (minimum activity threshold). CRITICAL: lead_investor flag distinguishes lead vs participant roles. REMINDER: Deal counts INCLUDE SECONDARY_MARKET. ORDER BY lead_percentage DESC LIMIT 1. Return investor name, total deals in 2024, led deals count, led percentage."
    }
  ]
}